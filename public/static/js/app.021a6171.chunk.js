(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{362:function(e,t,n){"use strict";n.d(t,"a",(function(){return yr}));var r=n(1),a=n.n(r),o=n(12),l=(n(486),n(0)),i=n.n(l),s=n(19),c=n(140),u=n(38),f=n(105),m=n(18),p=Object(c.a)({apiKey:"AIzaSyD7sAZY_oPEoAhPLbLST23DAAmAPiOh8V8",authDomain:"parents-749dd.firebaseapp.com",databaseURL:"https://parents-749dd-default-rtdb.firebaseio.com",projectId:"parents-749dd",storageBucket:"parents-749dd.appspot.com",messagingSenderId:"202897799240",appId:"1:202897799240:web:6e7181665de58029cfc07d",measurementId:"G-RJ6EY4S9LJ"}),d=Object(u.g)(p),g=Object(m.g)(p),h=Object(s.c)(p),b=Object(f.b)(p),y=n(364),E=n(14),v=n.n(E),x=n(115);function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=Object(x.b)({name:"screen",initialState:{screen:{screen:null},modal:{modal:null},userScreen:{screen:null}},reducers:{goToScreen:function(e,t){return P(P({},e),{},{screen:t.payload,postLoginScreen:null})},openModal:function(e,t){return P(P({},e),{},{modal:t.payload})},closeModal:function(e,t){return P(P({},e),{},{modal:null})},goToUserScreen:function(e,t){return P(P({},e),{},{userScreen:t.payload})}}}),M=Object(x.b)({name:"main",initialState:{userInfo:null,orgsList:null,orgMap:null,groupIds:null,groupMap:null,groupMembershipMap:null,userMap:null,userList:null,userGroupMemberships:null,groupMessages:{},pushToken:null,toUserInvites:null,userMessagesMap:null,unreadMessages:[]},reducers:{appInitialized:function(e,t){return P(P({},e),{},{appInitialized:!0})},userInfo:function(e,t){var n=t.payload,r=P({},e.userMap);return r[n.uid]=n,P(P({},e),{},{userInfo:n,userMap:r})},clearUserData:function(e,t){return P(P({},e),{},{userInfo:null})},locationDataInit:function(e,t){for(var n,r=t.payload,a=r.orgs,o=r.groups,l=r.users,i=r.groupMemberships,s=[],c={},u=j(l);!(n=u()).done;){var f=n.value;s.push(f),c[f.id]=f}for(var m,p=[],d={},g=j(o);!(m=g()).done;){var h=m.value;p.push(h),d[h.id]=h}for(var b,y={},E=j(i);!(b=E()).done;){var v=b.value;v.groupId in y?y[v.groupId].push(v):y[v.groupId]=[v]}for(var x,w=[],O={},I=j(a);!(x=I()).done;){var M=x.value;w.push(M),O[M.id]=M}return P(P({},e),{},{userList:s,userMap:c,groupList:p,groupMap:d,orgsList:w,orgsMap:O,groupMembershipMap:y})},pushToken:function(e,t){var n=t.payload.token;return P(P({},e),{},{pushToken:n})},userGroupMemberships:function(e,t){var n=t.payload;return P(P({},e),{},{userGroupMemberships:n})},groupMessages:function(e,t){var n=t.payload,r=n.groupId,a=n.messages.sort((function(e,t){return t.timestamp-e.timestamp})),o=P({},e.groupMessages);return o[r]=a,P(P({},e),{},{groupMessages:o})},userMessages:function(e,t){for(var n,r=t.payload,a=P({},e.userMessagesMap),o=j(r);!(n=o()).done;){var l=n.value;a[l.id]=l}return P(P({},e),{},{userMessagesMap:a})},groups:function(e,t){var n=t.payload;n=n.filter((function(e){return null!=e}));for(var r,a=[],o={},l=j(n);!(r=l()).done;){var i=r.value;a.push(i),o[i.id]=i}return P(P({},e),{},{groupList:a,groupMap:o})},groupMemberships:function(e,t){for(var n,r=t.payload,a={},o=j(r);!(n=o()).done;){var l=n.value;l.groupId in a?a[l.groupId].push(l):a[l.groupId]=[l]}return P(P({},e),{},{groupMembershipMap:a})},orgsUpdated:function(e,t){for(var n,r=[],a={},o=j(t.payload);!(n=o()).done;){var l=n.value;r.push(l),a[l.id]=l}return P(P({},e),{},{orgsList:r,orgsMap:a})},toUserInvites:function(e,t){var n=t.payload;return P(P({},e),{},{toUserInvites:n})},searchIndex:function(e,t){var n=t.payload;return P(P({},e),{},{searchIndex:n})}}}),S=M.actions,k=(S.appInitialized,S.pushToken,S.userInfo),C=S.locationDataInit,L=S.orgsUpdated,D=S.userGroupMemberships,T=S.groupMessages,R=S.groups,z=S.groupMemberships,G=S.toUserInvites,A=S.searchIndex,B=S.userMessages,_=S.clearUserData,U=I.actions,W=U.goToScreen,N=U.openModal,F=U.closeModal,J=U.goToUserScreen,Y=(U.goToScreenAfterLogin,Object(x.a)({reducer:{main:M.reducer,screen:I.reducer},middleware:[]})),H=n(508),$=n(2),q=n(144),V=n(305),K=n(511),X=n(509),Z=n(506),Q=n(507),ee=n(9),te=n(10),ne=n.n(te);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe={};function le(){var e,t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=s.f(h),r.next=3,a.a.awrap(s.b(s.a(e,"orgs")));case 3:return t=r.sent,n=Ee(t.val()),r.abrupt("return",n);case 6:case"end":return r.stop()}}),null,null,null,Promise)}function ie(e,t){var n,r,o,l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=s.f(h),r=s.a(n,"users/"+e),i.next=4,a.a.awrap(s.b(r));case 4:if(!(o=i.sent).exists()){i.next=11;break}return i.next=8,a.a.awrap(s.h(r,t));case 8:return i.abrupt("return",ae(ae({},o.val()),t));case 11:return i.next=13,a.a.awrap(s.g(r,t));case 13:return i.abrupt("return",t);case 14:return l=t,i.abrupt("return",l);case 16:case"end":return i.stop()}}),null,null,null,Promise)}function se(){var e,t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=s.f(h),r.next=3,a.a.awrap(s.b(s.a(e,"groups")));case 3:return t=r.sent,n=Ee(t.val()),r.abrupt("return",n);case 6:case"end":return r.stop()}}),null,null,null,Promise)}function ce(){var e,t,n,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=s.f(h),o.next=3,a.a.awrap(s.b(s.a(t,"users")));case 3:return n=o.sent,r=Ee(null!=(e=n.val())?e:[]),o.abrupt("return",r);case 6:case"end":return o.stop()}}),null,null,null,Promise)}function ue(){var e,t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=s.f(h),r.next=3,a.a.awrap(s.b(s.a(e,"group_memberships")));case 3:return t=r.sent,n=Ee(t.val()),r.abrupt("return",n);case 6:case"end":return r.stop()}}),null,null,null,Promise)}function fe(e,t,n){var r=s.f(h,"group_memberships"),a=s.d(r,(function(r){var a=Ee(r.val());if(e(a),null!=t){var o=a.filter((function(e){return e.uid==t}));n(o)}}));oe.observeAllGroupChanges={callback:e,uid:t,userCallback:n,unsubscribe:a}}function me(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(s.e(s.f(h,"/groups")));case 2:return t=n.sent,n.next=5,a.a.awrap(s.g(t,e));case 5:return n.abrupt("return",t.key);case 6:case"end":return n.stop()}}),null,null,null,Promise)}function pe(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(s.e(s.f(h,"/group_memberships")));case 2:return n=r.sent,r.next=5,a.a.awrap(s.g(n,{uid:e.uid,groupId:t}));case 5:return r.abrupt("return",n.key);case 6:case"end":return r.stop()}}),null,null,null,Promise)}function de(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(s.e(s.f(h,"/orgs")));case 2:return n=r.sent,r.next=5,a.a.awrap(s.g(n,{name:e,type:t}));case 5:return r.abrupt("return",n.key);case 6:case"end":return r.stop()}}),null,null,null,Promise)}function ge(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=s.f(h,"/group_memberships/"+e),r.next=3,a.a.awrap(s.h(n,t));case 3:case"end":return r.stop()}}),null,null,null,Promise)}function he(e,t,n){var r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=s.f(h,"/user_messages/"+e+"/"+t),o.next=3,a.a.awrap(s.h(r,n));case 3:case"end":return o.stop()}}),null,null,null,Promise)}function be(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=s.f(h,"/groups/"+e),r.next=3,a.a.awrap(s.h(n,t));case 3:case"end":return r.stop()}}),null,null,null,Promise)}function ye(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=s.f(h,"/users/"+e),r.next=3,a.a.awrap(s.h(n,t));case 3:case"end":return r.stop()}}),null,null,null,Promise)}function Ee(e){if(null==e)return[];for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=r[n],o=ne()(a,2),l=o[0],i=o[1];t.push(ae({id:l},i))}return t}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){var r=Object(m.i)(Object(m.c)(g,"invites"),Object(m.k)("toUid","in",["_uid_"+e,"_email_"+t]),Object(m.k)("status","==","new"));Object(m.h)(r,(function(e){var t=e.docs.map((function(e){var t=e.data();return xe({id:e.id},t)}));n(t)}))}function we(e,t,n,r,o,l,i){var s,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return s=xe(xe({uid:t,groupId:e,title:n,text:r},o),{},{papaId:l,timestamp:m.a.now().toDate(),notificationInfo:i}),c=Object(m.c)(Object(m.d)(Object(m.c)(g,"groups"),e),"messages"),u.next=4,a.a.awrap(Object(m.b)(c,s));case 4:return u.abrupt("return",u.sent);case 5:case"end":return u.stop()}}),null,null,null,Promise)}function Oe(e,t,n,r){var o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return o=Object(m.c)(g,"invites"),l.next=3,a.a.awrap(Object(m.b)(o,{fromUid:e,groupId:t,toUid:null!=n?"_uid_"+n:"_email_"+r,status:"new"}));case 3:l.sent;case 4:case"end":return l.stop()}}),null,null,null,Promise)}function Pe(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Object(m.d)(Object(m.c)(g,"invites"),e),r.next=3,a.a.awrap(Object(m.j)(n,t,{merge:!0}));case 3:case"end":return r.stop()}}),null,null,null,Promise)}function Ie(e){return function(e){var t=s.f(h,"orgs");s.d(t,(function(t){var n=Ee(t.val());e(n)}))}(e)}function Me(e,t){return function(e,t){var n=s.f(h,"user_messages/"+e);s.d(n,(function(e){var n=Ee(e.val());t(n)}))}(e,t)}function Se(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ie(e,t));case 1:case"end":return n.stop()}}),null,null,null,Promise)}function ke(e,t){return function(e,t){var n=s.f(h,"users/"+e);s.d(n,(function(e){var n=e.val();t(n)}))}(e,t)}function Ce(e){return function(e){var t=s.f(h,"groups");s.d(t,(function(t){var n=Ee(t.val());e(n)}))}(e)}function Le(e){return function(e){var t=null,n=null;null!=oe.observeAllGroupChanges&&(t=oe.observeAllGroupChanges.uid,n=oe.observeAllGroupChanges.userCallback),fe(e,t,n)}(e)}function De(e,t){return function(e,t){var n=null;null!=oe.observeAllGroupChanges&&(n=oe.observeAllGroupChanges.callback),fe(n,e,t)}(e,t)}function Te(e,t){return function(e,t){var n=Object(m.c)(Object(m.d)(Object(m.c)(g,"groups"),e),"messages");return Object(m.h)(n,(function(e){var n=e.docs.map((function(e){var t=e.data();return xe({id:e.id,title:t.title,text:t.text,uid:t.uid,timestamp:t.timestamp.toMillis(),papaId:t.papaId},t)}));t(n)}))}(e,t)}function Re(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pe(e,t));case 1:case"end":return n.stop()}}),null,null,null,Promise)}function ze(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",me(e));case 1:case"end":return t.stop()}}),null,null,null,Promise)}function Ge(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",be(e,t));case 1:case"end":return n.stop()}}),null,null,null,Promise)}function Ae(e,t,n,r,o,l,i){return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",we(e,t,n,r,o,l,i));case 1:case"end":return a.stop()}}),null,null,null,Promise)}function Be(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",de(e,t));case 1:case"end":return n.stop()}}),null,null,null,Promise)}function _e(e,t,n,r){return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Oe(e,t,n,r));case 1:case"end":return a.stop()}}),null,null,null,Promise)}function Ue(e,t,n){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",je(e,t,n));case 1:case"end":return r.stop()}}),null,null,null,Promise)}function We(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:Pe(e,t);case 1:case"end":return n.stop()}}),null,null,null,Promise)}function Ne(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:ge(e,t);case 1:case"end":return n.stop()}}),null,null,null,Promise)}function Fe(e,t,n){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:he(e,t,n);case 1:case"end":return r.stop()}}),null,null,null,Promise)}function Je(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:ye(e,t);case 1:case"end":return n.stop()}}),null,null,null,Promise)}var Ye=n(33),He=n.n(Ye);function $e(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){for(var n={},r=0,a=Object.keys(e);r<a.length;r++){var o=e[a[r]];if(null!=o.name)for(var l,i=$e(Ke(o.name));!(l=i()).done;){Ze(n,l.value,{type:"org",entity:o.id})}}for(var s=0,c=Object.keys(t);s<c.length;s++)for(var u,f=c[s],m=t[f],p=e[f.orgId],d=Ke(m.name),g=null!=p?Ke(p.name):[],h=$e(d.concat(g));!(u=h()).done;){Ze(n,u.value,{type:"group",entity:m.id})}for(var b={subTree:{}},y=0,E=Object.entries(n);y<E.length;y++)for(var v,x=E[y],j=ne()(x,2),w=j[0],O=j[1],P=b,I=$e(w);!(v=I()).done;){var M=v.value,S=P.subTree[M];null==S?(S={y:M,entities:He()(O),subTree:{}},P.subTree[M]=S):S.entities=S.entities.concat(O),P=S}return b}function Ke(e){for(var t,n=[],r=null,a=$e(e);!(t=a()).done;){var o=t.value;Xe(o)?r=null==r?o:r+o:null!=r&&(n.push(r.toUpperCase()),r=null)}return null!=r&&n.push(r.toUpperCase()),n}function Xe(e){var t=e.charCodeAt(0);return t>47&&t<58||t>64&&t<91||t>96&&t<123}function Ze(e,t,n){t in e||(e[t]=[]),e[t].push(n)}function Qe(e,t){for(var n,r=e,a=$e(t);!(n=a()).done;){var o=n.value;r=r.subTree[o]}if(null!=r)return r.entities}function et(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at={};function ot(e,t,n){var r,o,l,i,s,c,f,m,p;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",le());case 1:case"end":return e.stop()}}),null,null,null,Promise));case 2:return r=t.sent,t.next=5,a.a.awrap(a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se());case 1:case"end":return e.stop()}}),null,null,null,Promise));case 5:return o=t.sent,t.next=8,a.a.awrap(a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce());case 1:case"end":return e.stop()}}),null,null,null,Promise));case 8:return l=t.sent,t.next=11,a.a.awrap(a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue());case 1:case"end":return e.stop()}}),null,null,null,Promise));case 11:return i=t.sent,e(C({orgs:r,groups:o,users:l,groupMemberships:i})),Le((function(t){e(z(t))})),s=null,t.next=17,a.a.awrap(yt().then((function(e){console.log("Got push notificaiton token: "+e),s=e})).catch((function(e){console.log("ERROR REtRieving PUSH TOKEN _ INVESTIGATE!!!\n"+e)})));case 17:return c=V.a((function(e){})),f=V.b((function(e){})),m=Object(u.h)(d,(function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("auth state change: "+JSON.stringify(t)),null!=t?(console.log("loggedIN: "+s),lt(e,t,s)):it(e);case 2:case"end":return n.stop()}}),null,null,null,Promise)})),Ce((function(t){e(R(t))})),p=Ve(Y.getState().main.orgsMap,Y.getState().main.groupMap),e(A(p)),t.abrupt("return",(function(){c.remove(),f.remove(),m()}));case 24:case"end":return t.stop()}}),null,null,null,Promise)}function lt(e,t,n){var r,o,l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("logged in"),r=t.uid,o={uid:r,displayName:t.displayName,photoURL:t.photoURL,email:t.email},void 0!=n&&(o=rt({pushToken:n},o)),i.next=6,a.a.awrap(Se(r,o));case 6:l=i.sent,ke(r,(function(t){e(k(t))})),De(r,(function(t){e(D(t)),t.forEach((function(t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t.groupId in at||(n=Te(t.groupId,(function(n){var r=[];n.forEach((function(e){r.push(e)})),e(T({groupId:t.groupId,messages:r}))})),at[t.groupId]=n);case 1:case"end":return r.stop()}}),null,null,null,Promise)}))})),Me(r,(function(t){e(B(t))})),Ie((function(t){e(L(t))})),Ue(l.uid,l.email,(function(t){e(G(t))}));case 12:case"end":return i.stop()}}),null,null,null,Promise)}function it(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(W({screen:"LOGIN"}));case 1:case"end":return t.stop()}}),null,null,null,Promise)}function st(e,t,n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Re(t,n));case 2:case"end":return e.stop()}}),null,null,null,Promise)}function ct(e,t,n,r,o,l){var i;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(ze({name:r,orgId:n,grade:o,year:l}));case 2:return i=e.sent,e.next=5,a.a.awrap(Re(t,i));case 5:case"end":return e.stop()}}),null,null,null,Promise)}function ut(e,t){var n,r,o;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:for(n=et(t);!(r=n()).done;)o=r.value,Fe(e.uid,o,{status:"read"});case 1:case"end":return a.stop()}}),null,null,null,Promise)}function ft(e,t,n,r,o){var l,i,s,c,u,f,m;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(ze({name:n,orgId:null}));case 2:return l=e.sent,e.next=5,a.a.awrap(Re(t,l));case 5:for(i=et(r);!(s=i()).done;)c=s.value,vt(t,l,c);for(u=et(o);!(f=u()).done;)m=f.value,Et(t,l,m);return e.abrupt("return",l);case 8:case"end":return e.stop()}}),null,null,null,Promise)}function mt(e,t,n,r){var o;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(ze({name:r,orgId:n}));case 2:return o=e.sent,e.next=5,a.a.awrap(Re(t,o));case 5:case"end":return e.stop()}}),null,null,null,Promise)}function pt(e,t,n,r,o,l,i){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Ae(n,t.uid,void 0==r?null:r,o,null,void 0==l?null:l,i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}function dt(e,t,n,r,o,l){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Ae(n,t.uid,null,r,null,void 0==o?null:o,l));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}function gt(e,t,n,r,o,l,i,s,c){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Ae(n,t.uid,void 0==r?null:r,o,{event:{startDate:l,endDate:i}},void 0==s?null:s,void 0==c?null:c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}function ht(e,t,n,r,o,l,i){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Ae(n,t.uid,null,o,{event:{status:r}},void 0==l?null:l,i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}function bt(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(Object(u.m)(d));case 2:e(_({}));case 3:case"end":return t.stop()}}),null,null,null,Promise)}function yt(){var e,t,n,r,o,l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!q.a){i.next=20;break}return i.next=3,a.a.awrap(K.a());case 3:if(t=i.sent,n=t.status,r=n,"granted"===n){i.next=12;break}return i.next=9,a.a.awrap(K.b());case 9:o=i.sent,l=o.status,r=l;case 12:if("granted"===r){i.next=15;break}return console.log("Failed to get push token for push notification!"),i.abrupt("return");case 15:return i.next=17,a.a.awrap(X.a());case 17:e=i.sent.data,i.next=21;break;case 20:alert("Must use physical device for Push Notifications");case 21:return"android"===ee.a.OS&&Z.a("default",{name:"default",importance:Q.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),i.abrupt("return",e);case 23:case"end":return i.stop()}}),null,null,null,Promise)}function Et(e,t,n){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(_e(e.uid,t,null,n));case 2:case"end":return r.stop()}}),null,null,null,Promise)}function vt(e,t,n){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(_e(e.uid,t,n,null));case 2:case"end":return r.stop()}}),null,null,null,Promise)}function xt(e,t,n,r){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Re(t,n));case 2:return e.next=4,a.a.awrap(We(r,{status:"dismissed"}));case 4:case"end":return e.stop()}}),null,null,null,Promise)}function jt(e,t,n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(We(n,{status:"dismissed"}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}function wt(e){return function(e,t){for(var n,r=[],a=$e(Ke(t));!(n=a()).done;){var o=Qe(e,n.value);r=r.concat(o)}for(var l,i={},s=$e(r);!(l=s()).done;){var c=l.value;i[c.entity]=c}for(var u=r.reduce((function(e,t){return e[t.entity]?++e[t.entity]:e[t.entity]=1,e}),{}),f=[],m=0,p=0,d=Object.entries(u);p<d.length;p++){var g=d[p],h=ne()(g,2),b=h[0],y=h[1];y==m?f.push(b):y>m&&(m=y,f=[b])}return f.map((function(e){return i[e]}))}(Y.getState().main.searchIndex,e)}function Ot(e,t,n){var r,o;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:r=Y.getState().main.groupMembershipMap[t].filter((function(t){return t.uid==e.uid})),null!=(o=r.length>0?r[0]:null)&&(console.log("found usergroupmembership: "+o.id+", updating timestamp: "+n),Ne(o.id,{lastViewedMessageTimestamp:n}));case 3:case"end":return a.stop()}}),null,null,null,Promise)}function Pt(e,t,n,r){return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(Je(e,{firstName:t,lastName:n,image:r,profileInitialized:!0}));case 2:case"end":return o.stop()}}),null,null,null,Promise)}function It(e,t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Ge(t,{status:"deleted"}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}var Mt=n(6),St=n(28),kt=n(48),Ct=n(16),Lt=n(510),Dt=n(27),Tt=n(58);function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=i.a.memo((function(e){var t=e.icon,n=e.text,r=e.onPress,a=e.color,o=void 0===a?"black":a,l=e.badge;return i.a.createElement(Ct.a,{onPress:r},i.a.createElement($.a,{style:{flexDirection:"column",alignItems:"center",marginLeft:8,marginRight:8}},i.a.createElement(Tt.default,{name:t,style:{color:o,fontSize:24}}),l,i.a.createElement(Mt.a,{style:{color:o,fontSize:12}},n)))})),At=(i.a.memo((function(e){var t=e.text,n=e.onPress,r=e.icon,a=e.style;return i.a.createElement(Ct.a,{onPress:n},i.a.createElement($.a,{style:[zt({flex:1,flexDirection:"row",alignItems:"center",marginLeft:8,marginRight:8,marginBottom:8,alignSelf:"center"},a)]},r&&i.a.createElement(Tt.default,{name:r,style:{marginRight:10,color:"black",fontSize:16}}),i.a.createElement(Mt.a,{style:{color:"black",fontSize:18}},t)))})),i.a.memo((function(e){var t=e.text,n=e.icon,r=e.onPress;return i.a.createElement(Lt.a,{icon:n,labelStyle:{color:"black",fontSize:18},uppercase:!1,onPress:r},t)})),i.a.memo((function(e){var t=e.text,n=e.icon,r=e.onPress;e.style;return i.a.createElement(Dt.c,{title:t,icon:n,onPress:r,mode:"outline"},t)}))),Bt=i.a.memo((function(e){var t=e.text,n=e.onPress,r=e.style;return i.a.createElement(Ct.a,{onPress:n},i.a.createElement(Mt.a,{style:[r,{fontSize:16,textDecorationLine:"underline",color:"blue"}]},t))})),_t=n(363),Ut=n(4),Wt=(Ut.a.create({container:{flexDirection:"row",alignItems:"center"}}),i.a.memo((function(e){var t=e.style,n=e.children;return i.a.createElement($.a,{style:[t,{height:80,paddingTop:8,paddingBottom:8,flexDirection:"row",justifyContent:"space-between",alignItems:"center"}]},n.map((function(e,t){return i.a.createElement($.a,{key:t},e)})))})));function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t,n,r,a,o){for(var l,i={children:[]},s=Jt(t);!(l=s()).done;){var c=l.value;c.papaId==e?i.children.push(c):c.id==e&&(i=Ft(Ft({},c),i))}var u=$t(i,n,r,o);return null!=i.event&&(u=qt(i,n,a)),u}function $t(e,t,n,r){var a,o,l,i=null;t.uid!==e.uid?i=null==(l=n[e.id])?void 0:l.status:i="read";for(var s,c=r[e.uid],u=(null!=(a=e.children)?a:[]).filter((function(e){var r;return e.uid!==t.uid&&"read"!=(null==(r=n[e.id])?void 0:r.status)})).length,f=[],m=Jt(null!=(p=e.children)?p:[]);!(s=m()).done;){var p,d=s.value,g=null;g=d.uid!==t.uid?n[d.id]:"read";var h=r[d.uid];f.push(Ft(Ft({},d),{},{status:g,user:h}))}var b=Math.max(e.timestamp,Math.max.apply(Math,(null!=(o=e.children)?o:[]).map((function(e){return e.timestamp}))));return Ft(Ft({},e),{},{status:i,unreadChildCount:u,lastUpdated:b,children:f,user:c})}function qt(e,t,n,r){for(var a,o=Ft({},e.event),l=Jt(null!=(i=e.children)?i:[]);!(a=l()).done;){var i,s=a.value,c=s.event;if(null!=c){var u,f=c.status,m=Ft({},o.users);m[s.uid]={status:f};var p=Ft({},o.summary),d=null!=(u=p[f])?u:0;p[f]=d+1,o.users=m,o.summary=p}}return Ft(Ft({},e),{},{event:o})}var Vt=i.a.memo((function(e){var t=e.selected,n=Object(o.b)(),r=Object(o.c)((function(e){return{groupMessagesMap:e.main.groupMessages,userMessagesMap:e.main.userMessagesMap}})),a=function(e,t){for(var n=0,r=0,a=Object.keys(e);r<a.length;r++)for(var o,l=Jt(e[a[r]]);!(o=l()).done;){var i=t[o.value.id];null!=i&&"read"==i.status||(n+=1)}return n}(r.groupMessagesMap,r.userMessagesMap);return i.a.createElement(Wt,{style:{backgroundColor:"whitesmoke"}},i.a.createElement(Gt,{icon:"account-group",color:"groups"==t?"mediumblue":"black",text:"My Groups",onPress:function(){n(W({screen:"GROUPS"}))},badge:(null!=a?a:0)>0?i.a.createElement(Dt.b,{status:"error",value:a,containerStyle:{position:"absolute",top:-4,right:-4}}):null}),i.a.createElement(Gt,{icon:"magnify",text:"Find Groups",color:"find_groups"==t?"mediumblue":"black",onPress:function(){n(W({screen:"FIND_GROUPS"}))}}),i.a.createElement(Gt,{icon:"account-circle",text:"Profile",onPress:function(){n(W({screen:"MY_PROFILE"}))}}),i.a.createElement(Gt,{icon:"checkbox-blank-circle",text:"Debug",onPress:function(){n(W({screen:"DEBUG",backAction:function(){return W({screen:"GROUPS"})}}))}}))}));function Kt(e){var t=e.backAction,n=Object(o.b)(),r=Object(o.c)((function(e){return e.main.userInfo})),s=Object(o.c)((function(e){return{schoolList:e.main.schoolList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships,orgsList:e.main.orgsList}})),c=(s.schoolList,s.schoolMap,s.groupList),u=(s.groupMap,s.orgsList),f=s.userGroupMemberships,m=Object(l.useState)(!1),p=ne()(m,2),d=(p[0],p[1]),g=Object(l.useState)(""),h=ne()(g,2),b=h[0],y=h[1];return i.a.createElement(kt.a,null,i.a.createElement($.a,{style:{grow:1}},i.a.createElement($.a,{style:{backgroundColor:"orange",flexDirection:"row",justifyContent:"space-evenly"}},i.a.createElement(Mt.a,{style:{fontWeight:"bold"}},"Add School"),i.a.createElement(St.a,{style:{borderWidth:1,width:150},placeholder:"School Name",onChangeText:function(e){return y(e)}}),i.a.createElement(At,{text:"Add",disabled:d,style:{width:100,fontSize:10},onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,a.a.awrap(Be(b,"school"));case 3:d(!1);case 4:case"end":return e.stop()}}),null,null,null,Promise)}})),i.a.createElement(_t.a,{data:{user:r,groups:c,user_group_memberships:f,orgsList:u}}),i.a.createElement(At,{text:"Back",onPress:function(){n(t())}})),i.a.createElement(Vt,null))}var Xt=n(56);var Zt=function(e){var t=e.error,n=e.resetErrorBoundary;return i.a.createElement(kt.a,null,i.a.createElement(Mt.a,null,"ErrorScreen"),i.a.createElement(Mt.a,null,t.message),i.a.createElement(Mt.a,null,t.stack),i.a.createElement(Xt.a,{title:"Reset error boundary",onPress:function(){n&&n()}}))},Qt=n(35),en=n(29);function tn(e){e.schoolId;var t=e.visible,n=e.onCreateGroup,r=e.closeModal,a=(Object(o.b)(),Object(o.c)((function(e){return e.main.userInfo}))),s=Object(o.c)((function(e){return{orgsList:e.main.orgsList,orgsMap:e.main.orgsMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships}})),c=(s.orgsList,s.orgsMap,s.groupList,s.groupMap,s.userGroupMemberships,Object(l.useState)(null)),u=ne()(c,2),f=u[0],m=u[1],p=Object(l.useState)(null),d=ne()(p,2),g=d[0],h=d[1],b=Object(l.useState)(null),y=ne()(b,2),E=y[0],v=y[1],x=Object(l.useState)(!1),j=ne()(x,2),w=j[0],O=j[1];if(null==a)return i.a.createElement(Mt.a,null,"Loading Data...");if(w)return i.a.createElement(en.a,{visible:!0},i.a.createElement(Mt.a,null,"Creating group..."));return i.a.createElement(en.a,{visible:t,animationType:"slide"},i.a.createElement(kt.a,null,i.a.createElement(Mt.a,{key:"grade"},"Grade"),i.a.createElement($.a,{key:"grades",style:{flexDirection:"row"}},["1","2","3","4","5","6"].map((function(e){return i.a.createElement(Lt.a,{key:"grade"+e,mode:f==e?"contained":"outlined",compact:"true",onPress:function(){m(e)}},e)}))),i.a.createElement(Mt.a,{key:"group_name_label"},"Group Name"),i.a.createElement(St.a,{key:"group_name_input",style:{borderWidth:1,width:"100%",fontSize:16},onChangeText:function(e){v(e)},value:null!=E?E:"",selectTextOnFocus:!0}),i.a.createElement(Mt.a,{key:"year_label"},"Year"),i.a.createElement($.a,{key:"year_selection",style:{flexDirection:"row"}},["2021/22","2020/21","Other"].map((function(e){return i.a.createElement(Lt.a,{key:e,mode:g==e?"contained":"outlined",compact:"true",onPress:function(){h(e)}},e)}))),i.a.createElement(At,{key:"create_button",text:"Join",onPress:function(){O(!0),n(E,"foo","bar").then((function(){O(!1),r()}))}})))}function nn(e){var t=e.backgroundColor,n=e.children,r=e.style,a=Object(y.b)();return i.a.createElement($.a,{style:{flex:1,width:"100%",flexDirection:"column"}},i.a.createElement($.a,{style:[r,{height:a.top,backgroundColor:t,flexGrow:0}]}),i.a.createElement($.a,{style:{flexGrow:1,paddingLeft:a.left,paddingRight:a.right,backgroundColor:t}},n),i.a.createElement($.a,{style:[r,{height:a.bottom,backgroundColor:t,flexGrow:0}]}))}Ut.a.create({container:{flexDirection:"row",alignItems:"center"}});var rn=i.a.memo((function(e){var t=e.left,n=e.center,r=e.right,a=e.style;e.leftWidth;return i.a.createElement($.a,{style:{backgroundColor:"whitesmoke",flexDirection:"column"}},i.a.createElement($.a,{style:[a,{paddingLeft:4,paddingRight:4,paddingTop:8,paddingBottom:8,flexDirection:"row"}]},i.a.createElement($.a,{style:{flexBasis:"100%",flexGrow:0,alignItems:"flex-start",justifyContent:"flex-end"}},t),null!=n&&i.a.createElement($.a,{style:{flexBasis:100,flexGrow:1,alignItems:"center",justifyContent:"flex-end"}},n),i.a.createElement($.a,{style:{flexBasis:100,flexGrow:0,alignItems:"flex-end",justifyContent:"flex-end"}},i.a.createElement($.a,{style:{flexDirection:"row"}},r))),i.a.createElement(Dt.e,{style:{},width:1,color:"lightgrey"}))}));Ut.a.create({container:{flexDirection:"row",alignItems:"center"}});var an=i.a.memo((function(e){var t=e.content,n=e.side,r=e.style;e.leftWidth;return i.a.createElement($.a,{style:{backgroundColor:"whitesmoke",flexDirection:"column"}},i.a.createElement($.a,{style:[r,{paddingLeft:4,paddingRight:4,paddingTop:8,paddingBottom:8,flexDirection:"row"}]},i.a.createElement($.a,{style:{flexGrow:1,alignItems:"flex-start",justifyContent:"center"}},t),i.a.createElement($.a,{style:{width:60,flexGrow:0,alignItems:"center",justifyContent:"center"}},i.a.createElement($.a,{style:{flexDirection:"row"}},n))),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"}))}));function on(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ut.a.create({container:{flexDirection:"row",alignItems:"center"}});var sn=i.a.memo((function(e){var t=e.height,n=void 0===t?80:t,r=e.left,a=e.center,o=e.right,l=e.style,s=(e.leftWidth,e.backgroundColor);return i.a.createElement($.a,{style:{height:null!=n?n:80,backgroundColor:null!=s?s:"purple",flexDirection:"column"}},i.a.createElement($.a,{style:[l,{height:n-1,paddingLeft:4,paddingRight:4,paddingTop:8,paddingBottom:8,flexDirection:"row",alignItems:"center"}]},i.a.createElement($.a,{style:{flexBasis:60,flexGrow:0,alignItems:"flex-start",justifyContent:"flex-end"}},r),i.a.createElement($.a,{style:{flexGrow:1,alignItems:"center",justifyContent:"center"}},a),i.a.createElement($.a,{style:{flexBasis:60,flexGrow:0,alignItems:"flex-end",justifyContent:"flex-end"}},i.a.createElement($.a,{style:{flexDirection:"row"}},o))),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"}))})),cn=n(114);function un(e){return null==e?"[Unknown User]":null!=e.displayName?displayName:null!=e.firstName&&null!=e.lastName?e.firstName+" "+e.lastName:null!=e.email?e.email.split("@")[0]:"<null>"}function fn(e){var t=0;if(null!=e.email)for(var n=0;n<e.email.length;n++)t=e.email.charCodeAt(n)+((t<<5)-t);return"hsl("+t%360+", 50%, 65%)"}function mn(e,t){var n=un(e),r=null;if(null!=e.image){var a=e.image;r=i.a.createElement(cn.a,{style:{height:40,width:40,borderRadius:20},uri:a})}else r=i.a.createElement(Dt.a,{size:28,rounded:!0,title:n.charAt(0).toUpperCase(),containerStyle:{backgroundColor:fn(e),marginRight:1}});return null!=t?i.a.createElement(Ct.a,{onPress:t},r):i.a.createElement(i.a.Fragment,null,r)}function pn(e,t,n){var r=un(e),a=null;if(null==e)return i.a.createElement(Mt.a,null,"Null Info");if(null!=e.image){var o=e.image;a=i.a.createElement(cn.a,{style:{height:30,width:30,borderWidth:n?2:0,borderColor:"whitesmoke",borderRadius:15},uri:o})}else{var l=null;l=null!=e.firstName&&null!=e.lastName?e.firstName.charAt(0).toUpperCase()+e.lastName.charAt(0).toUpperCase():r.charAt(0).toUpperCase(),a=i.a.createElement(Dt.a,{size:30,rounded:!0,title:l,containerStyle:{backgroundColor:fn(e),marginRight:1,borderWidth:n?1:0,borderColor:"whitesmoke"}})}return null!=t?i.a.createElement(Ct.a,{onPress:t},a):i.a.createElement(i.a.Fragment,null,a)}function dn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e){var t=e.visible,n=e.createGroup,r=e.closeModal,s=Object(o.c)((function(e){return e.main.userInfo})),c=Object(l.useState)(null),u=ne()(c,2),f=u[0],m=u[1],p=Object(l.useState)(null),d=ne()(p,2),g=d[0],h=d[1],b=Object(l.useState)(null),y=ne()(b,2),E=y[0],v=y[1],x=Object(l.useState)([]),j=ne()(x,2),w=j[0],O=j[1],P=Object(l.useState)([]),I=ne()(P,2),M=I[0],S=I[1],k=Object(l.useState)(!1),C=ne()(k,2),L=C[0],D=(C[1],Object(o.c)((function(e){return{groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships,groupMembershipMap:e.main.groupMembershipMap,userMap:e.main.userMap}}))),T=D.groupMap,R=D.userGroupMemberships,z=D.groupMembershipMap,G=D.userMap;if(null==s)return i.a.createElement(Mt.a,null,"Loading Data...");if(L)return i.a.createElement(en.a,{visible:!0},i.a.createElement(Mt.a,null,"Creating group..."));for(var A,B=[],_=dn(R);!(A=_()).done;)for(var U,W=A.value.groupId,N=(T[W],dn(z[W]));!(U=N()).done;){var F=U.value.uid;if(F!=s.uid){var J=G[F];B.push(J)}}return B=function(e,t){for(var n,r=[],a=new Set,o=on(e);!(n=o()).done;){var l=n.value,i=t(l);a.has(i)||(r.push(l),a.add(i))}return r}(B,(function(e){return e.uid})),i.a.createElement(en.a,{visible:t,animationType:"slide"},i.a.createElement(kt.a,{style:{flex:1}},i.a.createElement(sn,{left:i.a.createElement(Bt,{text:"Cancel",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),center:i.a.createElement($.a,{style:{flex:1}},i.a.createElement(Mt.a,null,"New Group"),!1),right:i.a.createElement(Bt,{text:"Done",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(n(f,w,M));case 2:r();case 3:case"end":return e.stop()}}),null,null,null,Promise)}})}),i.a.createElement($.a,{style:{paddingTop:20,paddingLeft:10,paddingRight:10,flexDirection:"column",height:140}},i.a.createElement(St.a,{key:"group_name_input",style:{borderWidth:1,paddingLeft:10,height:40,marginBottom:20,fontSize:16},onChangeText:function(e){m(e)},placeholder:"Group Name",value:null!=f?f:"",selectTextOnFocus:!0}),i.a.createElement(St.a,{key:"group_description",style:{borderWidth:1,paddingLeft:10,height:40,fontSize:16},onChangeText:function(e){h(e)},placeholder:"Description",value:null!=g?g:"",selectTextOnFocus:!0})),B.length>0&&i.a.createElement($.a,{style:{flexGrow:1,padding:10}},i.a.createElement(Mt.a,null,"Add People"),i.a.createElement(Qt.a,{style:{flex:1,flexDirection:"row"}},B.map((function(e){return i.a.createElement($.a,{key:e.uid,style:{height:60,justifyContent:"flex-start",alignContent:"center",borderWidth:0,flexDirection:"row"}},i.a.createElement(Dt.d,{checked:w.includes(e.uid),onPress:function(){var t=He()(w);t.includes(e.uid)?t=t.filter((function(t){return t!=e.uid})):t.push(e.uid),O(t)}}),i.a.createElement($.a,{style:{flexDirection:"column",justifyContent:"center"}},i.a.createElement(Mt.a,{style:{alignItems:"center"}},un(e)),i.a.createElement(Mt.a,{style:{alignItems:"center",alignSelf:"flex-start",fontSize:10}},e.email)))})))),i.a.createElement($.a,{style:{height:160,padding:10}},i.a.createElement(Mt.a,null,"Invite By Email"),M.length>0&&i.a.createElement($.a,{style:{flex:1}},i.a.createElement(Qt.a,{style:{flex:1}},M.map((function(e){return i.a.createElement(Mt.a,null,e)})))),i.a.createElement($.a,{style:{flex:1,flexDirection:"row"}},i.a.createElement(St.a,{key:"invite_by_email_input",style:{borderWidth:1,paddingLeft:10,height:40,marginBottom:20,fontSize:16},onChangeText:function(e){v(e)},placeholder:"Email",value:null!=E?E:"",selectTextOnFocus:!0,autoCapitalize:"none"}),i.a.createElement(At,{text:"Add",onPress:function(){var e=He()(M);e.push(E),S(e)}})))))}function bn(e){e.navigation;var t=Object(o.b)(),n=Object(o.c)((function(e){return e.main.userInfo})),r=Object(l.useState)(null),s=ne()(r,2),c=s[0],u=s[1],f=Object(o.c)((function(e){return{orgsList:e.main.orgsList,orgsMap:e.main.orgsMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships}})),m=f.orgsList,p=f.orgsMap,d=(f.groupList,f.groupMap),g=(f.userGroupMemberships,m.filter((function(e){return"school"==e.type}))),h=m.filter((function(e){return"school"!=e.type})),b=Object(l.useState)(""),y=ne()(b,2),E=y[0],v=y[1],x=Object(l.useState)(!1),j=ne()(x,2),w=(j[0],j[1],Object(l.useState)(!1)),O=ne()(w,2),P=O[0],I=O[1];return i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement(an,{style:{},content:i.a.createElement(Mt.a,{style:{fontWeight:"bold",fontSize:20}},"Find Parent Groups"),side:i.a.createElement(Gt,{icon:"plus",text:"Create Private Group",onPress:function(){I(!0)}})}),i.a.createElement(hn,{visible:P,createGroup:function(e){var r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(ft(0,n,e));case 2:r=o.sent,t(W({screen:"GROUP",groupId:r}));case 4:case"end":return o.stop()}}),null,null,null,Promise)},closeModal:function(){return I(!1)}}),i.a.createElement($.a,{style:{flex:1,flexDirection:"column",backgroundColor:"white"}},i.a.createElement($.a,{style:{flexBasis:80}},i.a.createElement(Dt.f,{key:"search",platform:"ios",round:!0,searchIcon:{size:12},onChangeText:function(e){if(""==e)u(null);else{var t=wt(e);u(t)}v(e)},onClear:function(e){v(""),u(null)},placeholder:"Search...",value:E,containerStyle:{backgroundColor:"white"}})),null!=c&&function(e,t,n,r){if(null==t)return i.a.createElement(Mt.a,null,"No Results");return i.a.createElement($.a,null,t.map((function(e){if("org"==e.type){var t=n[e.entity];return i.a.createElement($.a,{style:{flexDirection:"column"}},i.a.createElement(Mt.a,{style:{fontSize:16,paddingTop:5,paddingBottom:10,textDecorationLine:"underline",color:"blue",fontWeight:"bold",textAlign:"start"}},t.name),i.a.createElement(Mt.a,{style:{fontSize:12}},"school"==t.type?"School":"Activities"))}if("group"==e.type){var a=r[e.entity];return i.a.createElement($.a,{style:{flexDirection:"column"}},i.a.createElement(Mt.a,{style:{fontSize:16,paddingTop:5,paddingBottom:10,textDecorationLine:"underline",color:"blue",fontWeight:"normal",textAlign:"start"}},a.name),i.a.createElement(Mt.a,{style:{fontSize:12}},"Group"))}})))}(0,c,p,d),null==c&&function(e,t,n){return i.a.createElement(Qt.a,{style:{paddingLeft:10,flexGrow:1,flexDirection:"column"}},i.a.createElement(Mt.a,{style:{fontSize:20,fontWeight:"bold"}},"Schools"),i.a.createElement(Dt.e,{style:{marginTop:10,marginBottom:10},width:1,color:"lightgrey"}),t.sort((function(e,t){return e.name.toUpperCase().localeCompare(t.name.toUpperCase())})).map((function(t){return i.a.createElement(Ct.a,{onPress:function(){e(W({screen:"SCHOOL",schoolId:t.id}))},style:{}},i.a.createElement(Mt.a,{style:{fontSize:16,paddingTop:5,paddingBottom:10,textDecorationLine:"underline",color:"blue",fontWeight:"bold",textAlign:"start"}},t.name))})),i.a.createElement(Mt.a,{style:{marginTop:20,fontSize:20,fontWeight:"bold"}},"Activities"),i.a.createElement(Dt.e,{style:{marginTop:10,marginBottom:10},width:1,color:"lightgrey"}),n.map((function(t){return i.a.createElement(Ct.a,{onPress:function(){e(W({screen:"ORG",orgId:t.id}))}},i.a.createElement(Mt.a,{style:{fontSize:16,paddingTop:5,paddingBottom:10,textDecorationLine:"underline",color:"blue",fontWeight:"bold",textAlign:"start"}},t.name))})))}(t,g,h)),i.a.createElement(Vt,null))}var yn=n(513),En=n(86);function vn(e){var t=e.groupId,n=e.visible,r=(e.onInvite,e.closeModal),s=(Object(o.b)(),Object(o.c)((function(e){return e.main.userInfo}))),c=Object(o.c)((function(e){return{schoolList:e.main.schoolList,userList:e.main.userList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships}})),u=(c.userList,c.schoolList,c.schoolMap,c.groupList,c.groupMap,c.userGroupMemberships,Object(l.useState)(!1)),f=ne()(u,2),m=f[0],p=(f[1],Object(l.useState)(null)),d=ne()(p,2),g=d[0],h=d[1];return null==s?i.a.createElement(Mt.a,null,"Loading Data..."):m?i.a.createElement(en.a,{visible:!0},i.a.createElement(Mt.a,null,"Processing...")):i.a.createElement(en.a,{visible:n,animationType:"slide"},i.a.createElement(nn,null,i.a.createElement(sn,{style:{},left:i.a.createElement(Gt,{icon:"arrow-left",text:"Back",onPress:function(){r()},color:"black"}),center:i.a.createElement(Mt.a,{style:{fontWeight:"bold",fontSize:16}},"Invite"),right:null}),i.a.createElement(Mt.a,null,"Email"),i.a.createElement($.a,{style:{flexDirection:"row",height:60,alignItems:"center",paddingLeft:10}},i.a.createElement($.a,{style:{flexDirection:"column"}},i.a.createElement(St.a,{key:"email",style:{borderWidth:1,width:"100%",fontSize:16},onChangeText:function(e){h(e)},value:null!=g?g:"",selectTextOnFocus:!0}),i.a.createElement(Mt.a,null,"Enter emails separated by ','")),i.a.createElement(At,{text:"Invite",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Et(s,t,g));case 2:r();case 3:case"end":return e.stop()}}),null,null,null,Promise)}}))))}function xn(e){var t=e.groupId,n=e.visible,r=e.closeModal,s=Object(o.b)(),c=Object(o.c)((function(e){return e.main.userInfo})),u=Object(o.c)((function(e){return{userMap:e.main.userMap,schoolList:e.main.schoolList,userList:e.main.userList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,members:e.main.groupMembershipMap[t]}})),f=u.userMap,m=(u.userList,u.schoolList,u.schoolMap,u.groupList,u.groupMap,u.members),p=Object(l.useState)(!1),d=ne()(p,2),g=d[0],h=d[1],b=Object(l.useState)(!1),y=ne()(b,2),E=y[0];y[1];if(null==c)return i.a.createElement(Mt.a,null,"Loading Data...");if(E)return i.a.createElement(en.a,{visible:!0},i.a.createElement(Mt.a,null,"Processing..."));var v=m.map((function(e){var t,n=f[e.uid];return i.a.createElement($.a,{key:null!=(t=n.uid)?t:e.uid,style:{flexDirection:"row",height:60,justifyContent:"flex-start",alignItems:"flex-start",paddingLeft:10}},i.a.createElement($.a,{style:{flex:1,justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:5}},mn(n),i.a.createElement(Mt.a,{style:{flexGrow:1,justifyContent:"center",alignItems:"center",paddingLeft:10}},un(n))))}));return i.a.createElement(en.a,{visible:n,animationType:"slide"},i.a.createElement(nn,null,i.a.createElement(sn,{style:{},left:i.a.createElement(Gt,{icon:"arrow-left",text:"Back",onPress:function(){r()},color:"black"}),center:i.a.createElement(Mt.a,{style:{fontWeight:"bold",fontSize:16}},"Group Members"),right:null}),i.a.createElement($.a,{style:{flexDirection:"column",alignItems:"flex-start",paddingLeft:10,paddingTop:10,flexGrow:1}},v),i.a.createElement(At,{text:"Invite",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0);case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),i.a.createElement(At,{text:"Delete Group",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:En.a.alert("Are You Sure?",null,[{text:"Yes",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(It(0,t));case 2:s(W({screen:"GROUPS"}));case 3:case"end":return e.stop()}}),null,null,null,Promise)}},{text:"No",onPress:function(){return console.log("Cancel Pressed")},style:"cancel"}]);case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),i.a.createElement(vn,{groupId:t,visible:g,closeModal:function(){h(!1)},onInvite:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)}})))}var jn=n(109),wn=n(8),On=n.n(wn),Pn=i.a.memo((function(e){var t=e.timestamp,n=e.textStyle,r=On()(t),a=Object(l.useState)(On()(new Date)),o=ne()(a,2),s=o[0],c=o[1],u=s.diff(r,"seconds"),f="";return f=u<60?"Just now":u<3600?Math.round(u/60)+"m":u<86400?Math.round(u/3600)+"h":r.format("lll"),Object(l.useEffect)((function(){var e=setInterval((function(){var e=On()(new Date);c(e)}),1e3);return function(){return clearInterval(e)}}),[]),i.a.createElement(Mt.a,{style:n},f)}));function In(e){var t,n,r,a,o,l,s,c,u,f,m,p,d,g,h=e.item,b=e.onPress,y=null==(t=h.timestamp)?void 0:t.toDate();return i.a.createElement(Ct.a,{onPress:function(){b()}},i.a.createElement($.a,{style:{flex:1,flexDirection:"row",paddingRight:20}},i.a.createElement($.a,{style:{paddingLeft:0,paddingTop:15,alignItems:"center",justifyContent:"flex-start",width:20}},("read"!=h.status||(null!=(n=h.unreadChildCount)?n:0)>0)&&i.a.createElement(Dt.b,{status:"primary",value:"",containerStyle:{width:12,height:12}})),i.a.createElement($.a,{style:{flexGrow:1,flexDirection:"row"}},i.a.createElement($.a,{style:{flexDirection:"column",flex:1,paddingTop:10,paddingLeft:0,paddingRight:0,paddingBottom:14}},i.a.createElement($.a,{style:{flex:1,justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:6}},pn(h.user),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:0}},i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"bold",color:"#282828",fontSize:16}},un(h.user)," "),i.a.createElement($.a,{style:{marginLeft:5,fontWeight:"normal",fontSize:14}},i.a.createElement(Pn,{timestamp:y,textStyle:{fontSize:11,color:"#282828"}})))),i.a.createElement($.a,{style:{paddingLeft:0,paddingTop:0,borderRadius:0}},i.a.createElement($.a,{style:{flex:1,flexDirection:"row"}},null!=h.event&&i.a.createElement(Tt.default,{name:"calendar",style:{color:"black",fontSize:24}}),i.a.createElement(Mt.a,{style:{paddingLeft:0,fontSize:16,fontWeight:"bold",color:"#282828"}},null!=(r=h.title)?r:"[No Title]")),null,null),i.a.createElement($.a,{style:{paddingLeft:0,paddingTop:0,borderRadius:0,flex:1,flexDirection:"row"}},i.a.createElement($.a,{style:{width:200}},i.a.createElement(Mt.a,{numberOfLines:1,ellipsizeMode:"tail",style:{fontSize:16,color:"#282828",flexGrow:1}},(null!=(a=h.text)?a:"").replace(/(\r\n|\n|\r)/gm," "))),i.a.createElement($.a,{style:{flexGrow:1}}),i.a.createElement($.a,{style:{width:100,flexDirection:"row"}},i.a.createElement($.a,{style:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-end"}},i.a.createElement(Mt.a,{style:{paddingLeft:0,fontSize:14,fontWeight:h.unreadChildCount>0?"bold":"normal",color:"#282828"}},(null!=(o=null==(l=h.children)?void 0:l.length)?o:-1)>1||0==(null==(s=h.children)?void 0:s.length)?(null!=(c=null==(u=h.children)?void 0:u.length)?c:-1)+" replies":(null!=(f=null==(m=h.children)?void 0:m.length)?f:-1)+" reply")))),null!=h.event&&null!=h.event.summary&&i.a.createElement($.a,{style:{flexDirection:"row"}},i.a.createElement(Mt.a,null,null!=(p=h.event.summary.accepted)?p:0," Accepted"),i.a.createElement(Mt.a,null,null!=(d=h.event.summary.declined)?d:0," Declined"),i.a.createElement(Mt.a,null,null!=(g=h.event.summary.not_responded)?g:0," Not Responded"))))))}function Mn(e){var t=e.userInfo,n=e.group,r=e.visible,o=e.sendMessage,s=e.showModal,c=(Object(y.b)(),Object(l.useState)(null)),u=ne()(c,2),f=u[0],m=u[1],p=Object(l.useState)(null),d=ne()(p,2),g=d[0],h=d[1];return i.a.createElement(en.a,{visible:r,animationType:"slide"},i.a.createElement(nn,null,i.a.createElement($.a,{style:{height:30,paddingLeft:8,flexDirection:"column",justifyContent:"center"}},i.a.createElement(Ct.a,{onPress:function(){s(!1)}},i.a.createElement(Mt.a,{style:{fontSize:20,color:"blue"}},"Close"))),i.a.createElement($.a,{style:{height:60,flexDirection:"column"}},i.a.createElement($.a,{style:{flex:1,paddingLeft:8,paddingRight:4,paddingTop:8,paddingBottom:8,flexDirection:"row"}},i.a.createElement($.a,{style:{flexGrow:1,alignItems:"flex-start",justifyContent:"center"}},i.a.createElement(Mt.a,{style:{fontSize:20,fontWeight:"bold"}},n.name)),i.a.createElement($.a,{style:{width:80,alignItems:"center",justifyContent:"center"}},i.a.createElement(At,{text:"POST",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o(g,f).then((function(){s(!1)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)}}))),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"})),i.a.createElement($.a,{style:{flexGrow:1}},i.a.createElement($.a,{style:{height:40,paddingLeft:10,paddingRight:10,justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:0}},pn(t),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:20}},i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"bold",fontSize:16}},un(t)))),i.a.createElement($.a,{style:{height:50,paddingLeft:10,paddingRight:10}},i.a.createElement(St.a,{style:{flex:1,borderWidth:1,borderRadius:5,margin:0,paddingTop:0,paddingBottom:0,paddingLeft:10,textAlign:"left",fontSize:16,backgroundColor:"white"},placeholder:"Title",multiline:!1,autoFocus:!0,onChangeText:function(e){h(e)}})),i.a.createElement($.a,{style:{flex:1,paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10}},i.a.createElement(St.a,{style:{flex:1,backgroundColor:"blue",borderWidth:1,borderRadius:5,margin:0,paddingTop:10,paddingBottom:0,paddingLeft:10,textAlign:"left",fontSize:16,backgroundColor:"white"},multiline:!0,autoFocus:!1,onChangeText:function(e){m(e)}})))))}n(479);function Sn(e){var t=e.item,n=e.user,r=(e.onPress,function(e){var t=e.children;return i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"normal",fontSize:14}},t)});return t.user.uid==n.uid?i.a.createElement($.a,{style:{flexDirection:"row",flex:1,marginLeft:40,paddingTop:0,paddingLeft:10,paddingBottom:0,paddingRight:10}},i.a.createElement($.a,{style:{width:40,justifyContent:"flex-start",flexDirection:"row",alignItems:"center",backgroundColor:"white"}},pn(t.user)),i.a.createElement($.a,{style:{flex:1,marginRight:0,paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:15,backgroundColor:"#daedf4",flexDirection:"column"}},i.a.createElement($.a,{style:{flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(Mt.a,{style:{fontWeight:"bold",fontSize:14,color:"#282828"}},un(t.user)),i.a.createElement($.a,{style:{marginLeft:10,fontWeight:"normal",fontSize:14}},i.a.createElement(jn.a,{date:t.createdAt,style:{marginLeft:5,fontWeight:"normal",fontSize:14},component:r}))),i.a.createElement($.a,{style:{flex:1,flexDirection:"column"}},null!=t.event&&i.a.createElement(Mt.a,null,"Going"),i.a.createElement(Mt.a,{style:{paddingLeft:0,fontSize:14,color:"#333333"}},t.text),!1))):i.a.createElement($.a,{style:{flexDirection:"row",flex:1,paddingTop:0,paddingLeft:10,paddingBottom:0,paddingRight:10}},i.a.createElement($.a,{style:{width:40,justifyContent:"flex-start",flexDirection:"row",alignItems:"center",backgroundColor:"white"}},pn(t.user)),i.a.createElement($.a,{style:{flex:1,marginRight:60,paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:15,backgroundColor:"#EEEEEE",flexDirection:"column"}},i.a.createElement($.a,{style:{flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start"}},i.a.createElement(Mt.a,{style:{fontWeight:"bold",fontSize:14,color:"#282828"}},un(t.user)),i.a.createElement($.a,{style:{marginLeft:10,fontWeight:"normal",fontSize:14}},i.a.createElement(jn.a,{date:t.createdAt,style:{marginLeft:5,fontWeight:"normal",fontSize:14,color:"#333333"},component:r}))),i.a.createElement($.a,{style:{flex:1,flexDirection:"column"}},null!=t.event&&i.a.createElement(Mt.a,null,"Going"),i.a.createElement(Mt.a,{style:{paddingLeft:0,fontSize:14,color:"#282828"}},t.text),!1)))}var kn=n(87);function Cn(e){var t,n=e.groupId,r=e.messageId,s=e.onBack,c=(Object(o.b)(),Object(o.c)((function(e){return e.main.userInfo}))),u=Object(o.c)((function(e){var t;return{userinfo:e.main.userInfo,schoolList:e.main.schoolList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,orgsMap:e.main.orgsMap,userMap:e.main.userMap,messages:null!=(t=e.main.groupMessages[n])?t:[],members:e.main.groupMembershipMap[n]}})),f=u.groupMap,m=(u.orgsMap,u.messages),p=u.userMap,d=(u.members,f[n]),g=Object(kn.a)(),h=(g.height,g.width),b=null!=h?h:0,y=Object(l.useState)(!1),E=ne()(y,2),v=(E[0],E[1],Ht(r,m,c,null,null,p)),x=p[v.uid],j=null!=(t=He()(v.children))?t:[];j.sort((function(e,t){return e.timestamp-t.timestamp}));var w=j.map((function(e){var t=p[e.uid];return{_id:e.id,text:e.text,createdAt:new Date(e.timestamp),user:{_id:e.uid,name:un(t),avatarColor:fn(t)}}})),O=Object(l.useCallback)((function(e){var t,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=d.name,r=un(c),S(""),o.next=5,a.a.awrap(pt(0,c,n,e,v.id,{groupName:t,fromName:r}));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}),null,null,null,Promise)}),[]),P=Object(l.useState)(""),I=ne()(P,2),M=I[0],S=I[1];return i.a.createElement(nn,{backgroundColor:"white"},i.a.createElement($.a,{style:{flexBasis:50}},i.a.createElement(sn,{left:i.a.createElement(Gt,{icon:"arrow-left",text:"Back",onPress:function(){s()},color:"black"})})),i.a.createElement($.a,{style:{flexDirection:"column",height:80,width:h,paddingTop:10,paddingLeft:10,paddingRight:10,paddingBottom:14,backgroundColor:"purple"}},i.a.createElement($.a,{style:{width:h,justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:6}},mn(x),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:20,backgroundColor:"white"}},i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"bold",fontSize:16}},un(x)))),i.a.createElement($.a,{style:{width:h-20,paddingLeft:0,paddingTop:0,borderRadius:0,backgroundColor:"white"}},i.a.createElement(Mt.a,{style:{paddingLeft:0,fontSize:18,width:h-20}},v.text)),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"})),i.a.createElement($.a,{style:{flex:1}},i.a.createElement(Qt.a,{style:{flexDirection:"column"}},w.map((function(e){return i.a.createElement(Sn,{item:e,width:b})})))),i.a.createElement($.a,{style:{height:60,alignItems:"center",justifyContent:"center",paddingLeft:10,paddingRight:10,paddingBottom:0,width:b,backgroundColor:"cyan",flexDirection:"row"}},i.a.createElement(St.a,{value:M,style:{flex:1,backgroundColor:"blue",margin:0,paddingTop:10,paddingBottom:10,paddingLeft:10,textAlign:"left",fontSize:16,width:b,backgroundColor:"white",borderLeftWidth:1,borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomRightRadius:5,borderBottomLeftRadius:5},placeholder:"Reply...",multiline:!0,autoFocus:!1,onChangeText:function(e){S(e)}}),null!=M&&M.length>0&&i.a.createElement(yn.a,{icon:"arrow-up-circle",color:"blue",size:38,onPress:function(){O(M)}})))}var Ln=n(34),Dn=n(88),Tn=n(365);function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e){var t=e.groupId,n=e.messageId,r=e.visible,a=e.closeModal,l=Object(o.c)((function(e){return e.main.userInfo})),s=Object(o.c)((function(e){var n;return{groupMap:e.main.groupMap,messages:null!=(n=e.main.groupMessages[t])?n:[],userMessagesMap:e.main.userMessagesMap,userMap:e.main.userMap}})),c=s.messages,u=s.groupMap,f=s.userMessagesMap,m=s.userMap,p=Ht(n,c,l,f,null,m);console.log("built message with children: "+p.id);var d=u[t];return null==p.event?i.a.createElement(An,{user:l,group:d,message:p,visible:r,closeModal:a,userMap:m}):i.a.createElement(Bn,{user:l,group:d,message:p,visible:r,closeModal:a,userMap:m})}function An(e){var t,n=e.user,r=e.group,s=e.message,c=e.visible,u=e.closeModal,f=(e.userMap,Object(o.b)(),null!=(t=He()(s.children))?t:[]);f.sort((function(e,t){return e.timestamp-t.timestamp}));var m=f,p=Object(l.useCallback)((function(e){var t,o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=r.name,o=un(n),b(""),En.a.alert("sending message papa_id: "+s.id),l.next=6,a.a.awrap(dt(0,n,r.id,e,s.id,{groupName:t,fromName:o}));case 6:E.current.scrollToEnd({animated:!0});case 7:case"end":return l.stop()}}),null,null,null,Promise)}),[]),d=Object(l.useState)(""),g=ne()(d,2),h=g[0],b=g[1],E=Object(l.useRef)(),v=Object(y.b)();Ln.a.get("window").height,v.top,v.bottom;return Object(l.useEffect)((function(){var e,t,r;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=[],"read"!=s.status&&t.push(s.id),r=(null!=(e=s.children)?e:[]).filter((function(e){return"read"!=e.status})),t=t.concat(r.map((function(e){return e.id}))),ut(n,t);case 5:case"end":return a.stop()}}),null,null,null,Promise)}),[s]),i.a.createElement(en.a,{visible:c,animationType:"slide"},i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement(sn,{backgroundColor:"whitesmoke",height:40,left:i.a.createElement(Gt,{icon:"arrow-left",text:"Back",onPress:function(){u()},color:"black"}),center:null,right:null}),i.a.createElement(Dn.a,{style:{flex:1,backgroundColor:"white"},behavior:"padding",keyboardVerticalOffset:40,enabled:!0},i.a.createElement(Qt.a,{ref:E,style:{flex:1}},i.a.createElement($.a,{style:{flexDirection:"column",paddingTop:10,paddingLeft:10,paddingRight:10,paddingBottom:14}},i.a.createElement($.a,{style:{justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:6}},pn(n),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:20}},i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"bold",fontSize:14,color:"#282828"}},un(n)))),i.a.createElement($.a,{style:{paddingLeft:0,paddingTop:0,borderRadius:0}},i.a.createElement(Mt.a,{style:{paddingLeft:0,fontWeight:"bold",fontSize:16,color:"#282828"}},s.title),i.a.createElement(Mt.a,{style:{paddingLeft:0,paddingTop:8,fontSize:14,color:"#282828"}},s.text),!1)),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"}),i.a.createElement($.a,{style:{paddingTop:10,flex:1}},m.map((function(e){return i.a.createElement($.a,{style:{paddingBottom:10}},i.a.createElement(Sn,{item:e,user:n}))})))),i.a.createElement($.a,{style:{height:80,alignItems:"center",justifyContent:"center",paddingLeft:10,paddingRight:10,paddingBottom:0,flexDirection:"row"}},i.a.createElement(St.a,{value:h,style:{flex:1,backgroundColor:"blue",margin:0,paddingTop:10,paddingBottom:10,textAlign:"left",fontSize:16,backgroundColor:"white",borderLeftWidth:1,borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomRightRadius:5,borderBottomLeftRadius:5},placeholder:"Reply...",multiline:!0,autoFocus:!1,onChangeText:function(e){b(e)}}),null!=h&&h.length>0&&i.a.createElement(yn.a,{icon:"arrow-up-circle",color:"blue",size:38,onPress:function(){p(h)}})))))}function Bn(e){var t,n,r,s,c,u=e.group,f=e.message,m=e.user,p=e.userMap,d=e.visible,g=e.closeModal,h=(Object(o.b)(),null!=(t=He()(f.children))?t:[]);h.sort((function(e,t){return e.timestamp-t.timestamp}));var b=h.map((function(e){var t=p[e.uid];return zn(zn({},e),{},{_id:e.id,text:e.text,createdAt:new Date(e.timestamp),user:{_id:e.uid,name:un(t),avatarColor:fn(t)}})})),E=Object(l.useCallback)((function(e,t){var n,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=u.name,r=un(m),w(""),o.next=5,a.a.awrap(ht(0,m,u.id,e,t,f.id,{groupName:n,fromName:r}));case 5:T.current.scrollToEnd({animated:!0});case 6:case"end":return o.stop()}}),null,null,null,Promise)}),[]),v=Object(l.useState)(""),x=ne()(v,2),j=x[0],w=x[1],O=Object(l.useState)(null),P=ne()(O,2),I=(P[0],P[1],Object(l.useState)(null)),M=ne()(I,2),S=M[0],k=(M[1],Object(l.useState)(!1)),C=ne()(k,2),L=C[0],D=C[1],T=Object(l.useRef)(),R=Object(y.b)();Ln.a.get("window").height,R.top,R.bottom;return Object(l.useEffect)((function(){var e,t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=[],"read"!=f.status&&t.push(f.id),n=(null!=(e=f.children)?e:[]).filter((function(e){return"read"!=e.status})),t=t.concat(n.map((function(e){return e.id}))),ut(m,t);case 5:case"end":return r.stop()}}),null,null,null,Promise)}),[f]),i.a.createElement(en.a,{visible:d,animationType:"slide"},i.a.createElement(nn,null,i.a.createElement(sn,{height:64,left:i.a.createElement(Gt,{icon:"arrow-left",text:"Back",onPress:function(){g()},color:"black"}),center:null,right:null}),i.a.createElement(Dn.a,{style:{flex:1},behavior:"padding",keyboardVerticalOffset:40,enabled:!0},i.a.createElement(Qt.a,{ref:T,style:{flex:1}},i.a.createElement($.a,{style:{flexDirection:"column",paddingTop:10,paddingLeft:10,paddingRight:10,paddingBottom:14}},i.a.createElement($.a,{style:{justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:6}},mn(m),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:20}},i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"bold",fontSize:16}},un(m)))),i.a.createElement($.a,{style:{paddingLeft:0,paddingTop:0,borderRadius:0}},i.a.createElement(Mt.a,{style:{paddingLeft:0,fontWeight:"bold",fontSize:20,color:"#282828"}},f.title),i.a.createElement(Mt.a,{style:{paddingLeft:0,fontSize:18}},f.text)),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-evenly"}},i.a.createElement(Ct.a,{onPress:function(){E("accept",null)}},"accept"===(null==(n=(null!=(r=f.event.users)?r:{})[m.uid])?void 0:n.status)&&i.a.createElement(Mt.a,{style:{backgroundColor:"green"}},"Going"),"accept"!=(null==(s=(null!=(c=f.event.users)?c:{})[m.uid])?void 0:s.status)&&i.a.createElement(Mt.a,null,"Going")),i.a.createElement(Ct.a,{onPress:function(){E("decline",null)}},i.a.createElement(Mt.a,null,"Not Going")),i.a.createElement(Ct.a,{onPress:function(){E("tentative",null)}},i.a.createElement(Mt.a,null,"Don't Know Yet")),i.a.createElement(Ct.a,null,i.a.createElement(Mt.a,null,"...")))),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"}),i.a.createElement($.a,{style:{flex:1,marginTop:10,backgroundColor:"cyan"}},b.map((function(e){return i.a.createElement(Sn,{item:e,user:m})})))),i.a.createElement($.a,{style:{height:80,alignItems:"center",justifyContent:"center",paddingLeft:10,paddingRight:10,paddingBottom:0,flexDirection:"row"}},i.a.createElement(St.a,{value:j,style:{flex:1,backgroundColor:"blue",margin:0,paddingTop:10,paddingBottom:10,textAlign:"left",fontSize:16,backgroundColor:"white",borderLeftWidth:1,borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomRightRadius:5,borderBottomLeftRadius:5},placeholder:"Reply...",multiline:!0,autoFocus:!1,onChangeText:function(e){w(e)}}),null!=j&&j.length>0&&i.a.createElement(yn.a,{icon:"arrow-up-circle",color:"blue",size:38,onPress:function(){sendMessage(j)}})))),L&&i.a.createElement($.a,{style:[Ut.a.absoluteFill,{backgroundColor:"rgba(0,0,0,0.4)",alignItems:"center",justifyContent:"center"}]},i.a.createElement(kt.a,null,i.a.createElement(Qt.a,{style:{height:200,backgroundColor:"cyan"}},(null!=S?S:[]).map((function(e){var t,n;return i.a.createElement(Xt.a,{disabled:null==e,title:"Choose "+(null!=(t=null==e?void 0:e.title)?t:"null")+"["+(null!=(n=null==e?void 0:e.source.name)?n:"null")+"]",onPress:function(){(function(e){var t,n,r;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=Date.parse("2022-04-11"),n=new Date(t),r=new Date(t+72e5),Tn.a(null==e?void 0:e.id,{title:"ilya test 3",startDate:n,endDate:r,timeZone:"America/New_York",location:"Ilya's Bedroom"}).then((function(e){return console.log("booked: "+e),e}));case 4:case"end":return a.stop()}}),null,null,null,Promise)})(e).then((function(e){D(!1)}))}})}))))))}var _n=n(134);function Un(e){var t=e.userInfo,n=e.group,r=e.visible,o=e.sendEvent,s=e.showModal,c=(Object(y.b)(),Object(l.useState)(null)),u=ne()(c,2),f=u[0],m=u[1],p=Object(l.useState)(null),d=ne()(p,2),g=d[0],h=d[1],b=Object(l.useState)(On()()),E=ne()(b,2),v=E[0],x=E[1],j=Object(l.useState)(On()()),w=ne()(j,2),O=w[0],P=w[1],I=Object(l.useState)(On()()),M=ne()(I,2),S=M[0],k=M[1],C=Object(l.useState)(!1),L=ne()(C,2),D=L[0],T=L[1],R=Object(l.useState)(!1),z=ne()(R,2),G=z[0],A=z[1],B=Object(l.useState)(!1),_=ne()(B,2),U=_[0],W=_[1];return i.a.createElement(en.a,{visible:r,animationType:"slide"},i.a.createElement(nn,null,i.a.createElement($.a,{style:{height:30,paddingLeft:8,flexDirection:"column",justifyContent:"center"}},i.a.createElement(Ct.a,{onPress:function(){s(!1)}},i.a.createElement(Mt.a,{style:{fontSize:20,color:"blue"}},"Close"))),i.a.createElement($.a,{style:{height:60,flexDirection:"column"}},i.a.createElement($.a,{style:{flex:1,paddingLeft:8,paddingRight:4,paddingTop:8,paddingBottom:8,flexDirection:"row"}},i.a.createElement($.a,{style:{flexGrow:1,alignItems:"flex-start",justifyContent:"center"}},i.a.createElement(Mt.a,{style:{fontSize:20,fontWeight:"bold"}},n.name)),i.a.createElement($.a,{style:{width:80,alignItems:"center",justifyContent:"center"}},i.a.createElement(At,{text:"POST",onPress:function(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:(e=On()()).set({year:v.year,month:v.month,date:v.date,hour:O.get("hour"),minute:O.get("minute")}),t=On()(),e.set({year:v.year,month:v.month,date:v.date,hour:S.get("hour"),minute:S.get("minute")}),o(g,f,e.format(),t.format()).then((function(){s(!1)}));case 5:case"end":return n.stop()}}),null,null,null,Promise)}}))),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"})),i.a.createElement($.a,{style:{flexGrow:1}},i.a.createElement($.a,{style:{height:40,paddingLeft:10,paddingRight:10,justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:0}},pn(t),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:20}},i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"bold",fontSize:16}},un(t)))),i.a.createElement($.a,{style:{height:50,paddingLeft:10,paddingRight:10}},i.a.createElement(St.a,{style:{flex:1,borderWidth:1,borderRadius:5,margin:0,paddingTop:0,paddingBottom:0,paddingLeft:10,textAlign:"left",fontSize:16,backgroundColor:"white"},placeholder:"Title",multiline:!1,autoFocus:!0,onChangeText:function(e){h(e)}})),i.a.createElement($.a,{style:{marginTop:10,paddingLeft:10,flexDirection:"column",justifyContent:"center",height:100}},i.a.createElement($.a,{style:{flex:1,flexDirection:"row",alignItems:"center"}},i.a.createElement(Mt.a,{style:{width:50,fontSize:16}},"Date: "),i.a.createElement(Ct.a,{onPress:function(){T(!D)},style:{backgroundColor:"lightgrey",padding:10,borderRadius:10}},i.a.createElement(Mt.a,{style:{width:90,fontSize:16}},v.format("L")))),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",alignItems:"center"}},i.a.createElement(Mt.a,{style:{width:50,fontSize:16}},"Start: "),i.a.createElement(Ct.a,{onPress:function(){A(!G)},style:{backgroundColor:"lightgrey",padding:10,borderRadius:10}},i.a.createElement(Mt.a,{style:{width:90,fontSize:16}},O.format("LT"))),i.a.createElement(Mt.a,{style:{marginLeft:20,width:50,fontSize:16}},"End: "),i.a.createElement(Ct.a,{onPress:function(){W(!U)},style:{backgroundColor:"lightgrey",padding:10,borderRadius:10}},i.a.createElement(Mt.a,{style:{width:100,fontSize:16}},S.format("LT"))))),i.a.createElement($.a,{style:{flex:1,paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10}},i.a.createElement(St.a,{style:{flex:1,backgroundColor:"blue",borderWidth:1,borderRadius:5,margin:0,paddingTop:10,paddingBottom:0,paddingLeft:10,textAlign:"left",fontSize:16,backgroundColor:"white"},multiline:!0,autoFocus:!1,onChangeText:function(e){m(e)},placeholder:"Details..."}))),i.a.createElement(en.a,{visible:D,animationType:"slide"},i.a.createElement(_n.a,{display:"inline",mode:"date",value:O.toDate(),onChange:function(e,t){var n=t||v;x(On()(n)),T(!1)}})),i.a.createElement(en.a,{visible:G,animationType:"slide"},i.a.createElement(_n.a,{display:"spinner",mode:"time",value:O.toDate(),onChange:function(e,t){var n=t||v;P(On()(n)),A(!1)}})),i.a.createElement(en.a,{visible:U,animationType:"slide"},i.a.createElement(_n.a,{display:"spinner",mode:"time",value:S.toDate(),onChange:function(e,t){var n=t||v;k(On()(n)),W(!1)}}))))}function Wn(e){var t=e.userIds,n=(Object(o.b)(),Object(o.c)((function(e){return{userMap:e.main.userMap}})).userMap),r=t.map((function(e,t){var r=n[e];return i.a.createElement($.a,{key:t,style:{position:"relative",left:-10*t,zIndex:-t}},pn(r,null,!0))}));return i.a.createElement($.a,{style:{flexDirection:"row"}},r)}var Nn=n(78);function Fn(e){var t,n=e.groupId,r=Object(o.b)(),s=Object(o.c)((function(e){return e.main.userInfo})),c=Object(o.c)((function(e){var t;return{userinfo:e.main.userInfo,schoolList:e.main.schoolList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,orgsMap:e.main.orgsMap,userMap:e.main.userMap,messages:null!=(t=e.main.groupMessages[n])?t:[],members:e.main.groupMembershipMap[n],userMessagesMap:e.main.userMessagesMap}})),u=c.groupMap,f=c.orgsMap,m=c.messages,p=c.userMap,d=c.members,g=c.userMessagesMap,h=Object(kn.a)(),b=(h.height,h.width,Object(l.useState)(!1)),E=ne()(b,2),v=E[0],x=E[1],j=Object(l.useState)(null),w=ne()(j,2),O=w[0],P=w[1],I=Object(l.useState)(!1),M=ne()(I,2),S=M[0],k=M[1],C=Object(l.useState)(!1),L=ne()(C,2),D=L[0],T=L[1],R=u[n],z=function(e,t,n,r,a){for(var o=e.reduce((function(e,t){return e[t.id]=Ft({},t),e}),{}),l=0,i=Object.values(o);l<i.length;l++){var s=i[l];if(null!=s.papaId){var c=o[s.papaId];null==c.children&&(c.children=[]),c.children.push(s)}}return Object.values(o).filter((function(e){return null==e.papaId})).map((function(e){var o=$t(e,t,n,a);return null!=e.event&&(o=qt(o,t,r)),Ft(Ft({},e),o)}))}(m,s,g,null,p),G=null!=(t=He()(z))?t:[];G.sort((function(e,t){return t.lastUpdated-e.lastUpdated}));var A=f[null==R?void 0:R.orgId],B=Object(l.useCallback)((function(e,t){var r,o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return r=R.name,o=un(s),l.next=4,a.a.awrap(pt(0,s,n,e,t,null,{groupName:r,fromName:o}));case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}}),null,null,null,Promise)}),[]),_=Object(l.useCallback)((function(e,t,r,o){var l,i;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return l=R.name,i=un(s),c.next=4,a.a.awrap(gt(0,s,n,e,t,r,o,null,{groupName:l,fromName:i}));case 4:return c.abrupt("return",c.sent);case 5:case"end":return c.stop()}}),null,null,null,Promise)}),[]);Object(l.useEffect)((function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length>0)){t.next=4;break}return e=m.reduce((function(e,t){return e.timestamp>t.timestamp?e:t})),t.next=4,a.a.awrap(Ot(s,R.id,e.timestamp));case 4:ut(s,m.map((function(e){return e.id})));case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[m]);var U=Object(y.b)();Ln.a.get("window").height,U.top,U.bottom;return i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement($.a,{style:{flexDirection:"column",height:64}},i.a.createElement($.a,{style:[{height:63,paddingLeft:4,paddingRight:4,paddingTop:8,paddingBottom:8,flexDirection:"row",alignItems:"center"}]},i.a.createElement(yn.a,{icon:"chevron-left",style:{width:18,color:"#282828"},onPress:function(){r(W({screen:"GROUPS"}))}}),i.a.createElement($.a,{style:{flexGrow:1,flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"}},i.a.createElement($.a,{style:{flexDirection:"row",alignItems:"center"}},i.a.createElement($.a,{style:{flexDirection:"column"}},i.a.createElement(Ct.a,{onPress:function(){x(!0)}},i.a.createElement(Mt.a,{style:{fontWeight:"bold",fontSize:20,color:"#282828"}},R.name),null,null!=A&&i.a.createElement(Mt.a,{style:{fontWeight:"normal",fontSize:14}},A.name))))),i.a.createElement($.a,{style:{width:80,flexGrow:0,marginRight:4,alignItems:"flex-end",justifyContent:"center",flexDirection:"column"}},i.a.createElement(Ct.a,{onPress:function(){x(!0)}},i.a.createElement(Wn,{userIds:[s.uid].concat(d.filter((function(e){return s.uid!=e.uid})).map((function(e){return e.uid}))),border:!0})))),i.a.createElement(Dt.e,{style:{},width:1,color:"lightgrey"})),i.a.createElement($.a,{style:{flexGrow:1,flexDirection:"column",backgroundColor:"white"}},i.a.createElement($.a,{style:{flex:1}},i.a.createElement($.a,{style:{flexDirection:"column",flex:1}},i.a.createElement(Nn.a,{style:{flex:1},data:G,renderItem:function(e){var t=e.item;return i.a.createElement(In,{item:t,onPress:function(){P(t.id)}})},keyExtractor:function(e){return e.id},ItemSeparatorComponent:function(){return i.a.createElement($.a,{style:{height:6,width:"100%",backgroundColor:"lightgrey"}})}})))),i.a.createElement(Dt.e,{style:{},width:1,color:"darkgrey"}),i.a.createElement($.a,{style:{alignItems:"flex-end",justifyContent:"center",flexDirection:"row",height:64}},i.a.createElement(yn.a,{icon:"plus",onPress:function(){k(!0)}}),i.a.createElement(yn.a,{icon:"calendar-plus",onPress:function(){T(!0)}})),null!=O&&i.a.createElement(Gn,{groupId:n,messageId:O,visible:null!=O,closeModal:function(){P(null)}}),i.a.createElement(xn,{groupId:n,visible:v,closeModal:function(){x(!1)}}),i.a.createElement(Mn,{userInfo:s,group:R,visible:S,sendMessage:B,showModal:function(e){k(e)}}),i.a.createElement(Un,{userInfo:s,group:R,visible:D,sendEvent:_,showModal:function(e){T(e)}}))}Ut.a.create({container:{flexDirection:"row",alignItems:"center"}});var Jn=n(132),Yn=n.n(Jn);function Hn(e){Yn()(e);var t=Object(o.b)(),n=Object(o.c)((function(e){return e.main.userInfo})),r=Object(o.c)((function(e){return{schoolList:e.main.schoolList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships,groupMembershipMap:e.main.groupMembershipMap,orgsMap:e.main.orgsMap}})),s=(r.schoolList,r.schoolMap,r.groupList,r.groupMap),c=r.userGroupMemberships,u=r.orgsMap,f=r.groupMembershipMap,m=Object(l.useState)(null),p=ne()(m,2),d=(p[0],p[1],Object(l.useState)(!1)),g=ne()(d,2),h=g[0],b=g[1];if(null==n)return i.a.createElement(Mt.a,null,"Loading Data...");var y=null;return c.length>0&&(y=c.map((function(e,r){var a,o=e.groupId,l=s[o];if(null==l||"deleted"==l.status)return null;var c=u[l.orgId],m=f[l.id];return i.a.createElement($.a,{key:r,style:{flex:1}},i.a.createElement(Ct.a,{key:l.id,style:{flexDirection:"row",height:60,alignItems:"center",paddingLeft:10},onPress:function(){t(W({screen:"GROUP",groupId:l.id}))}},i.a.createElement($.a,{style:{flexGrow:1,flexDirection:"column"}},i.a.createElement(Mt.a,{style:{justifyContent:"center",alignItems:"flex-start",fontSize:18,fontWeight:"bold",color:"#282828"}},l.name," "),!1,null!=c&&i.a.createElement(Mt.a,{style:{justifyContent:"center",alignItems:"center",fontSize:14}},null!=(a=c.name)?a:"[No organization]"),i.a.createElement($.a,{style:{flex:1,paddingTop:8}},i.a.createElement(Wn,{userIds:[n.uid].concat(m.filter((function(e){return n.uid!=e.uid})).map((function(e){return e.uid}))),border:!0}))),i.a.createElement($.a,{style:{flexBasis:100,justifyContent:"center",alignItems:"flex-end"}},i.a.createElement(yn.a,{icon:"chevron-right",color:"darkgrey",size:32}))),i.a.createElement(Dt.e,{style:{marginTop:20,marginBottom:10},width:3,color:"lightgrey"}))}))),i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement(rn,{key:"topbar",style:{},left:i.a.createElement($.a,{style:{flexDirection:"row",alignItems:"center"}},i.a.createElement(Mt.a,{style:{flexGrow:1,paddingLeft:6,fontWeight:"bold",fontSize:20,color:"#282828"}},"My Groups"),i.a.createElement($.a,{style:{width:80,alignItems:"flex-end"}},mn(n,(function(){t(N({modal:"MY_PROFILE"}))})))),center:null,right:null}),i.a.createElement($.a,{key:"main_content",style:{flex:1,backgroundColor:"white",paddingTop:20}},i.a.createElement(Qt.a,{key:"messages"},y,i.a.createElement($.a,{style:{flex:1,height:60,alignItems:"center",justifyContent:"center"}},i.a.createElement(Bt,{text:"Start a new Group",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0);case 1:case"end":return e.stop()}}),null,null,null,Promise)}}))),i.a.createElement(Vt,{key:"toolbar"})),i.a.createElement(hn,{key:"new-group-modal",visible:h,createGroup:function(e,r,o){var l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.awrap(ft(0,n,e,r,o));case 2:l=i.sent,t(W({screen:"GROUP",groupId:l}));case 4:case"end":return i.stop()}}),null,null,null,Promise)},closeModal:function(){return b(!1)}}))}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){e.navigation;var t=Object(o.b)(),n=Object(o.c)((function(e){return e.main.userInfo})),r=Object(o.c)((function(e){return{schoolList:e.main.schoolList,schoolMap:e.main.schoolMap}})),s=r.schoolList,c=(r.schoolMap,He()(s));c.sort((function(e,t){return e.name.localeCompare(t.name)}));var u=Object(l.useState)("school"),f=ne()(u,2),m=f[0],p=(f[1],Object(l.useState)({})),d=ne()(p,2),g=d[0],h=d[1];if(null==n)return i.a.createElement(Mt.a,null,"Loading Data...");var b=i.a.createElement($.a,{key:"school_section",style:{flex:1}},i.a.createElement(Mt.a,{style:{fontSize:20}},"Select Your School(s)"),i.a.createElement(Qt.a,null,c.map((function(e){var t;return i.a.createElement($.a,{key:e.id,style:{alignItems:"center",flex:1,flexDirection:"row"}},i.a.createElement(Dt.d,{containerStyle:{backgroundColor:"transparent",borderColor:"transparent",padding:0},title:i.a.createElement(Mt.a,{style:{fontSize:14}},e.name),checked:null!=(t=g[e.id])&&t,checkedIcon:"dot-circle-o",uncheckedIcon:"circle-o",onPress:function(){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g),r=!(null!=(t=n[e.id])&&t);n[e.id]=r,console.log("setting school selection: "+e.id+": "+r+","+JSON.stringify(n)),h(n)}}))}))),i.a.createElement(Xt.a,{onPress:function(){!function(e,t,n){a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(Se(t.uid,{profile:{schools:n}}));case 2:e(W({screen:"INITIAL_SELECT_SCHOOL_GROUPS"})),null!=t.profileInitialized&&0!=t.profileInitialized||e(N({modal:"MY_PROFILE"}));case 4:case"end":return r.stop()}}),null,null,null,Promise)}(t,n,Object.keys(g).filter((function(e){return g[e]})))},title:"Done"}));return i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement($.a,{style:{flex:1}},"school"==m&&b))}function Vn(){var e,t=Object(o.b)(),n=Object(o.c)((function(e){return e.main.userInfo})),r=Object(o.c)((function(e){return{schoolList:e.main.schoolList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships}})),s=(r.schoolList,r.schoolMap),c=r.groupList,u=(r.groupMap,r.userGroupMemberships),f=Object(l.useState)(null),m=ne()(f,2),p=m[0],d=m[1],g=null!=(e=n.profile.schools)?e:[],h=u.map((function(e){return e.groupId})),b=g.map((function(e,t){var r=s[e],o=c.filter((function(e){return e.schoolId==r.id})).map((function(e){return i.a.createElement($.a,{key:"join_"+r.id+"_"+e.id,style:{flexDirection:"row",height:60,alignItems:"center",paddingLeft:10}},i.a.createElement(Mt.a,{style:{flexGrow:1,justifyContent:"center",alignItems:"center"}},e.name),i.a.createElement($.a,{style:{flexBasis:100,justifyContent:"center",alignItems:"center"}},h.includes(e.id)&&i.a.createElement(Tt.default,{name:"check",style:{color:"black",fontSize:16}}),!h.includes(e.id)&&i.a.createElement(At,{text:"Join",onPress:function(){st(0,n,e.id)}})))}));o.push(i.a.createElement($.a,{key:"new"},i.a.createElement(At,{text:"Create New Group",onPress:function(){d(r.id)}})));return i.a.createElement($.a,{key:"school_"+r.id,style:{flex:1}},i.a.createElement($.a,{style:{paddingTop:10,paddingBottom:10,paddingLeft:10,backgroundColor:"darkgrey",width:"100%"}},i.a.createElement(Mt.a,{style:{fontSize:20}},r.name)),i.a.createElement(Qt.a,{key:"scroll_join"},o),i.a.createElement(tn,{key:"newgroupmodal",visible:p==r.id,onCreateGroup:function(e,t,o){return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",ct(0,n,r.id,e,t,o));case 1:case"end":return a.stop()}}),null,null,null,Promise)},closeModal:function(){console.log("close modal called"),d(null)}}))}));return i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement(rn,{key:"topbar",style:{backgroundColor:"whitesmoke"},left:null,center:i.a.createElement(Mt.a,null,"Join School Groups"),right:i.a.createElement(Gt,{icon:"arrow-right",text:"Done",onPress:function(){t(W({screen:"GROUPS"}))}})}),i.a.createElement($.a,{key:"bottombar",style:{flex:1}},b,i.a.createElement(Wt,{style:{backgroundColor:"whitesmoke"}},i.a.createElement(At,{key:"school_orgs",text:"Schools/Orgs",onPress:function(){}}),i.a.createElement(At,{key:"profile",text:"My Profile",onPress:function(){}}),i.a.createElement(At,{key:"logout",text:"Logout",onPress:function(){bt()}}),i.a.createElement(At,{key:"debug",text:"Debug",onPress:function(){t(J({screen:"DEBUG",backAction:function(){return J({screen:"GROUPS"})}}))}}))))}var Kn=n(49),Xn=n(360);function Zn(e){var t=e.afterLoginScreen,n=Object(o.b)(),r=Object(Xn.a)(d),s=ne()(r,3),c=s[0],f=s[1],m=(s[2],Object(l.useState)("")),p=ne()(m,2),g=p[0],h=p[1],b=Object(l.useState)(""),y=ne()(b,2),E=y[0],v=y[1];return f||c?i.a.createElement($.a,{style:[Ut.a.absoluteFill,{backgroundColor:"rgba(0,0,0,0.4)",alignItems:"center",justifyContent:"center"}]},i.a.createElement(Kn.a,{color:"#fff",animating:!0,size:"large"})):i.a.createElement($.a,{style:Qn.container},i.a.createElement(Mt.a,{style:Qn.title},"Log In"),i.a.createElement(St.a,{style:Qn.input,placeholder:"Enter email",autoCapitalize:"none",keyboardType:"email-address",textContentType:"emailAddress",autoFocus:!0,value:g,onChangeText:function(e){return h(e)}}),i.a.createElement(St.a,{style:Qn.input,placeholder:"Enter password",autoCapitalize:"none",autoCorrect:!1,secureTextEntry:!0,textContentType:"password",value:E,onChangeText:function(e){return v(e)}}),i.a.createElement(Xt.a,{onPress:function(){""!==g&&""!==E&&Object(u.k)(d,g,E).then((function(e){console.log("got user credential: "+JSON.stringify(e)),n(W(t))})).catch((function(e){console.log("Login err: "+e)}))},color:"#f57c00",title:"Login"}),i.a.createElement(Bt,{text:"Create an Account",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n(W({screen:"SIGNUP"}));case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),!1)}var Qn=Ut.a.create({container:{flex:1,backgroundColor:"#fff",paddingTop:50,paddingHorizontal:12},title:{fontSize:24,fontWeight:"600",color:"#444",alignSelf:"center",paddingBottom:24},input:{backgroundColor:"#fff",marginBottom:20,fontSize:16,borderWidth:1,borderColor:"#333",borderRadius:8,padding:12}});function er(e){Object(o.b)();var t=Object(o.c)((function(e){return e.main.userInfo})),n=Object(o.c)((function(e){return{toUserInvites:e.main.toUserInvites,groupMap:e.main.groupMap}})),r=n.toUserInvites,l=n.groupMap,s=Object(y.b)();return null!=r?i.a.createElement($.a,{style:{backgroundColor:"red",position:"absolute",bottom:s.bottom,width:"100%"}},r.map((function(e){var n=l[e.groupId];return i.a.createElement($.a,{key:"join_"+n.id,style:{flexDirection:"row",height:60,alignItems:"center",paddingLeft:10}},i.a.createElement(Mt.a,{style:{flexGrow:1,justifyContent:"center",alignItems:"center"}},"Invite to ",n.name),i.a.createElement($.a,{style:{flexBasis:200,flexDirection:"row",justifyContent:"center",alignItems:"center"}},i.a.createElement(At,{text:"Join",onPress:function(){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(xt(0,t,n.id,e.id));case 2:case"end":return r.stop()}}),null,null,null,Promise)}}),i.a.createElement(At,{text:"Dismiss",onPress:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(jt(0,0,e.id));case 2:case"end":return t.stop()}}),null,null,null,Promise)}})),i.a.createElement($.a,null,i.a.createElement(Mt.a,{style:{fontSize:10}},"")))}))):null}var tr=n(150),nr=n(73),rr=n.n(nr);function ar(e){var t=e.visible,n=(Object(o.b)(),Object(o.c)((function(e){return e.main.userInfo})));Object(y.b)();return i.a.createElement(en.a,{visible:t,animationType:"slide"},t&&i.a.createElement(or,{userInfo:n}))}function or(e){var t=e.userInfo,n=Object(o.b)(),r=Object(l.useState)(t.firstName),s=ne()(r,2),c=s[0],u=s[1],f=Object(l.useState)(t.lastName),m=ne()(f,2),p=m[0],d=m[1],g=Object(l.useState)(!0),h=ne()(g,2),b=h[0],y=(h[1],Object(l.useState)(!1)),E=ne()(y,2),v=E[0],x=E[1],j=Object(l.useState)(t.image),w=ne()(j,2),O=w[0],P=w[1],I=function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,x(!0),e.cancelled){n.next=7;break}return n.next=5,a.a.awrap(lr(e.uri));case 5:t=n.sent,P(t);case 7:n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),alert("Upload failed, sorry :(");case 13:return n.prev=13,x(!1),n.finish(13);case 16:case"end":return n.stop()}}),null,null,[[0,9,13,16]],Promise)};return i.a.createElement(nn,null,i.a.createElement(sn,{style:{},left:i.a.createElement(Bt,{text:"Cancel",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n(F({modal:"MY_PROFILE"}));case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),center:i.a.createElement(Mt.a,{style:{fontWeight:"bold",fontSize:16}},"My Profile"),right:i.a.createElement(Bt,{text:"Done",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Pt(t.uid,c,p,O));case 2:n(F({modal:"MY_PROFILE"}));case 3:case"end":return e.stop()}}),null,null,null,Promise)}})}),!1,i.a.createElement($.a,{style:{paddingTop:20,paddingLeft:10,paddingRight:10,flexDirection:"column",height:140}},i.a.createElement(St.a,{key:"first_name_input",style:{borderWidth:1,paddingLeft:10,height:40,marginBottom:20,fontSize:16},onChangeText:function(e){u(e)},placeholder:"First Name",value:null!=c?c:"",selectTextOnFocus:!0}),i.a.createElement(St.a,{key:"last_name_input",style:{borderWidth:1,paddingLeft:10,height:40,fontSize:16},onChangeText:function(e){d(e)},placeholder:"Last Name",value:null!=p?p:"",selectTextOnFocus:!0}),i.a.createElement(Mt.a,{style:{marginTop:20}},"Profile Picture"),i.a.createElement($.a,{style:{marginTop:10,flexDirection:"row",alignItems:"center"}},null==O&&i.a.createElement(Mt.a,{style:{width:80,height:80,borderRadius:200}},"No Profile Image"),null!=O&&i.a.createElement(cn.a,{style:{height:80,width:80,borderRadius:40},uri:O}),b&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Xt.a,{onPress:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(tr.b({allowsEditing:!0,aspect:[4,3]}));case 2:e=t.sent,console.log({pickerResult:e}),I(e);case 5:case"end":return t.stop()}}),null,null,null,Promise)},title:"Pick Image"}),i.a.createElement(Xt.a,{onPress:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(tr.a({allowsEditing:!0,aspect:[4,3]}));case 2:e=t.sent,I(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)},title:"Take Photo"}))),i.a.createElement($.a,{style:{height:100,justifyContent:"center",alignItems:"center"}},i.a.createElement(Bt,{text:"Log Out",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(bt(n));case 2:n(F({modal:"MY_PROFILE"}));case 3:case"end":return e.stop()}}),null,null,null,Promise)}}))),function(){if(v)return i.a.createElement($.a,{style:[Ut.a.absoluteFill,{backgroundColor:"rgba(0,0,0,0.4)",alignItems:"center",justifyContent:"center"}]},i.a.createElement(Kn.a,{color:"#fff",animating:!0,size:"large"}))}())}function lr(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(new Promise((function(t,n){var r=new XMLHttpRequest;r.onload=function(){t(r.response)},r.onerror=function(e){console.log(e),n(new TypeError("Network request failed"))},r.responseType="blob",r.open("GET",e,!0),r.send(null)})));case 2:return t=r.sent,console.log("blob:"+JSON.stringify(t)),n=Object(f.c)(b,"images/profile/"+k.uid+"_"+rr.a.v4()+".jpg"),console.log("uploading"),r.next=8,a.a.awrap(Object(f.d)(n,t));case 8:return r.sent,t.close(),r.next=12,a.a.awrap(Object(f.a)(n));case 12:return r.abrupt("return",r.sent);case 13:case"end":return r.stop()}}),null,null,null,Promise)}function ir(e){var t,n;Yn()(e);var r=Object(o.b)(),s=Object(o.c)((function(e){return e.main.userInfo})),c=Object(o.c)((function(e){return{schoolList:e.main.schoolList,schoolMap:e.main.schoolMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships,orgsMap:e.main.orgsMap}})),u=(c.schoolList,c.schoolMap,c.groupList,c.groupMap,c.userGroupMemberships,c.orgsMap),f=Object(l.useState)(null),m=ne()(f,2);m[0],m[1];if(null==s)return i.a.createElement(Mt.a,null,"Loading Data...");var p=null!=(t=(null!=(n=s.profile)?n:{}).schools)?t:[];console.log("userInfo: "+JSON.stringify(s)),console.log("mySchools: "+JSON.stringify(p));var d=p.map((function(e){var t=u[e];return console.log("school: "+JSON.stringify(t)),i.a.createElement($.a,{style:{flex:1,paddingLeft:10}},i.a.createElement(Mt.a,{style:{fontSize:20}},t.name))}));return i.a.createElement(nn,{backgroundColor:"transparent"},i.a.createElement($.a,{style:{flex:1,paddingTop:20}},i.a.createElement($.a,{style:{justifyContent:"flex-start",flexDirection:"row",alignItems:"center",paddingBottom:5,backgroundColor:"white",height:80}},i.a.createElement(Dt.a,{size:60,rounded:!0,title:un(s).charAt(0).toUpperCase(),containerStyle:{backgroundColor:fn(s),marginRight:1}}),i.a.createElement($.a,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:20}},i.a.createElement($.a,{style:{flexDirection:"column"}},i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"bold",fontSize:16}},un(s)," ",s.uid),i.a.createElement(Mt.a,{style:{marginLeft:5,fontWeight:"normal",fontSize:12}},s.email)),i.a.createElement(Bt,{text:"Log Out",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(bt(r));case 2:case"end":return e.stop()}}),null,null,null,Promise)}}))),i.a.createElement($.a,{style:{flexGrow:1,justifyContent:"flex-start",flexDirection:"column"}},i.a.createElement($.a,{style:{height:40,paddingLeft:10,paddingRight:10,flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"}},i.a.createElement(Mt.a,{style:{fontSize:20,fontWeight:"bold"}},"My Schools"),i.a.createElement(At,{text:"Manage",onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)}})),i.a.createElement(Dt.e,{style:{marginTop:10,marginBottom:15,zIndex:999999},width:1,color:"darkgrey"}),d),i.a.createElement(Vt,null)))}function sr(e){e.orgId;var t=e.visible,n=e.onCreateGroup,r=e.closeModal,a=(Object(o.b)(),Object(o.c)((function(e){return e.main.userInfo}))),s=Object(o.c)((function(e){return{orgsList:e.main.orgsList,orgsMap:e.main.orgsMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships}})),c=(s.orgsList,s.orgsMap,s.groupList,s.groupMap,s.userGroupMemberships,Object(l.useState)(null)),u=ne()(c,2),f=u[0],m=u[1],p=Object(l.useState)(!1),d=ne()(p,2),g=d[0],h=d[1];return null==a?i.a.createElement(Mt.a,null,"Loading Data..."):g?i.a.createElement(en.a,{visible:!0},i.a.createElement(Mt.a,null,"Creating group...")):i.a.createElement(en.a,{visible:t,animationType:"slide"},i.a.createElement(Mt.a,{key:"group_name_label"},"Group Name"),i.a.createElement(St.a,{key:"group_name_input",style:{borderWidth:1,width:"100%",fontSize:16},onChangeText:function(e){m(e)},value:null!=f?f:"",selectTextOnFocus:!0}),i.a.createElement(At,{key:"create_button",text:"Create",onPress:function(){h(!0),n(f).then((function(){h(!1),r()}))}}))}function cr(e){var t=e.orgId,n=Object(o.b)(),r=Object(o.c)((function(e){return e.main.userInfo})),s=Object(o.c)((function(e){return{orgsList:e.main.orgsList,orgsMap:e.main.orgsMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships}})),c=(s.orgsList,s.orgsMap),u=s.groupList,f=(s.groupMap,s.userGroupMemberships),m=c[t],p=u.filter((function(e){return e.orgId==t})),d=f.map((function(e){return e.groupId})),g=Object(l.useState)(null),h=ne()(g,2),b=h[0],y=h[1];return i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement(rn,{style:{backgroundColor:"whitesmoke"},left:null,center:i.a.createElement(Mt.a,null,m.name),right:null}),i.a.createElement($.a,{style:{flex:1,flexDirection:"column",alignItems:"flex-start"}},p.map((function(e){return i.a.createElement($.a,{key:"join_"+m.id+"_"+e.id,style:{width:"100%",flexDirection:"row",height:60,alignItems:"center",paddingLeft:10}},i.a.createElement(Mt.a,{style:{flexGrow:1,justifyContent:"center",alignItems:"center"}},e.name),i.a.createElement($.a,{style:{flexBasis:100,justifyContent:"center",alignItems:"center"}},d.includes(e.id)&&i.a.createElement(At,{text:"Open",onPress:function(){n(W({screen:"GROUP",groupId:e.id}))}}),!d.includes(e.id)&&i.a.createElement(At,{text:"Join",onPress:function(){st(0,r,e.id)}})))}))),i.a.createElement($.a,{key:"org_"+m.id,style:{height:50,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},i.a.createElement(Mt.a,null,"Don't see your group?"),i.a.createElement(Ct.a,{onPress:function(){y(!0)}},i.a.createElement(Mt.a,{style:{fontSize:12,textDecorationLine:"underline",color:"blue",fontWeight:"bold",textAlign:"center"}},"Create a new one")),i.a.createElement(sr,{key:"newgroupmodal",visible:b,onCreateGroup:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",mt(0,r,m.id,e));case 1:case"end":return t.stop()}}),null,null,null,Promise)},closeModal:function(){console.log("close modal called"),y(!1)}})),i.a.createElement(Wt,{style:{backgroundColor:"whitesmoke"}},i.a.createElement(At,{text:"Groups",onPress:function(){n(J({screen:"DEBUG",backAction:function(){return J({screen:"FIND_GROUPS"})}}))}}),i.a.createElement(At,{text:"My Profile",onPress:function(){}}),i.a.createElement(At,{text:"Logout",onPress:function(){bt()}}),i.a.createElement(At,{text:"Debug",onPress:function(){n(W({screen:"DEBUG",backAction:function(){return W({screen:"GROUPS"})}}))}})))}function ur(e){var t=e.messageId;return i.a.createElement($.a,{style:{flexDirection:"column",flex:1}},i.a.createElement(Mt.a,null,"sub thread: ",t))}function fr(e){var t=e.schoolId,n=Object(o.b)(),r=Object(o.c)((function(e){return e.main.userInfo})),s=Object(o.c)((function(e){return{orgsList:e.main.orgsList,orgsMap:e.main.orgsMap,groupList:e.main.groupList,groupMap:e.main.groupMap,userGroupMemberships:e.main.userGroupMemberships}})),c=(s.orgsList,s.orgsMap),u=s.groupList,f=(s.groupMap,s.userGroupMemberships),m=c[t],p=u.filter((function(e){return e.orgId==t})),d=f.map((function(e){return e.groupId})),g=Object(l.useState)(null),h=ne()(g,2),b=h[0],y=h[1];return i.a.createElement(nn,{backgroundColor:"whitesmoke"},i.a.createElement(rn,{style:{backgroundColor:"whitesmoke"},left:null,center:i.a.createElement(Mt.a,null,m.name),right:null}),i.a.createElement(Qt.a,{style:{flex:1,flexDirection:"column"}},p.map((function(e){return i.a.createElement($.a,{key:"join_"+m.id+"_"+e.id,style:{width:"100%",flexDirection:"row",height:60,alignItems:"center",paddingLeft:10}},i.a.createElement(Mt.a,{style:{flexGrow:1,justifyContent:"center",alignItems:"center"}},e.name),i.a.createElement($.a,{style:{flexBasis:100,justifyContent:"center",alignItems:"center"}},d.includes(e.id)&&i.a.createElement(At,{text:"Open",onPress:function(){n(W({screen:"GROUP",groupId:e.id}))}}),!d.includes(e.id)&&i.a.createElement(At,{text:"Join",onPress:function(){st(0,r,e.id)}})))}))),i.a.createElement($.a,{key:"school_"+m.id,style:{height:50,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},i.a.createElement(Mt.a,null,"Don't see your group?"),i.a.createElement(Ct.a,{onPress:function(){y(m.id)}},i.a.createElement(Mt.a,{style:{fontSize:12,textDecorationLine:"underline",color:"blue",fontWeight:"bold",textAlign:"center"}},"Create a new one")),i.a.createElement(tn,{key:"newgroupmodal",visible:b==m.id,onCreateGroup:function(e,t,n){return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",ct(0,r,m.id,e,t,n));case 1:case"end":return a.stop()}}),null,null,null,Promise)},closeModal:function(){console.log("close modal called"),y(null)}})),i.a.createElement(Vt,null))}function mr(){var e=Object(o.b)(),t=Object(l.useState)(""),n=ne()(t,2),r=n[0],s=n[1],c=Object(l.useState)(""),f=ne()(c,2),m=f[0],p=f[1],g=Object(l.useState)(""),h=ne()(g,2),b=h[0],y=h[1],E=Object(l.useState)(null),v=ne()(E,2),x=v[0],j=v[1];return i.a.createElement($.a,{style:pr.container},i.a.createElement(Mt.a,{style:pr.title},"Sign Up"),null!=x&&i.a.createElement(Mt.a,{style:pr.error},x),i.a.createElement(St.a,{style:pr.input,placeholder:"Enter email",autoCapitalize:"none",keyboardType:"email-address",textContentType:"emailAddress",value:r,onChangeText:function(e){return s(e)}}),i.a.createElement(St.a,{style:pr.input,placeholder:"Enter password",autoCapitalize:"none",autoCorrect:!1,secureTextEntry:!0,textContentType:"password",value:m,onChangeText:function(e){return p(e)}}),i.a.createElement(St.a,{style:pr.input,placeholder:"Confirm password",autoCapitalize:"none",autoCorrect:!1,secureTextEntry:!0,textContentType:"password",value:b,onChangeText:function(e){y(e)}}),i.a.createElement(Xt.a,{onPress:function(){j(null),m!=b?j("Passwords do not match"):""!==r&&""!==m?Object(u.f)(d,r,m).then((function(){Object(u.k)(d,r,m).then((function(t){console.log("got user credential: "+JSON.stringify(t)),e(W({screen:"GROUPS"}))})).catch((function(e){j(e.message),console.log("Login err: "+e)}))})).catch((function(e){j(e.message)})):j("Please enter all information")},color:"#f57c00",title:"Signup"}),i.a.createElement(Bt,{text:"Log In",onPress:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e(W({screen:"LOGIN"}));case 1:case"end":return t.stop()}}),null,null,null,Promise)}}))}var pr=Ut.a.create({container:{flex:1,backgroundColor:"#fff",paddingTop:50,paddingHorizontal:12},title:{fontSize:24,fontWeight:"600",color:"#444",alignSelf:"center",paddingBottom:24},input:{backgroundColor:"#fff",marginBottom:20,fontSize:16,borderWidth:1,borderColor:"#333",borderRadius:8,padding:12}});var dr=function(e){var t=e.appInitializedCallback,n=e.refresh,r=Object(l.useRef)(!1);return Object(o.c)((function(e){return e.main.appInitialized}))&&(r.current=!0),Object(l.useEffect)((function(){var e=setInterval((function(){r.current&&t()}),n);return function(){return clearInterval(e)}}),[]),i.a.createElement(kt.a,{style:{width:"100%",height:"100%",backgroundColor:"white",alignItems:"center",justifyContent:"center"}},i.a.createElement(Mt.a,null,"Parents"))};function gr(e){e.navigation;var t=Object(o.c)((function(e){return e.main.userInfo})),n=Object(o.c)((function(e){return e.screen.userScreen})),r=n.screen;return null==t?i.a.createElement(Mt.a,null,"Loading User Information..."):null==r?i.a.createElement(Mt.a,null,"error (no screen)"):"PROFILE"==r?i.a.createElement(qn,null):"INITIAL_SELECT_SCHOOL_GROUPS"==r?i.a.createElement(Vn,null):"GROUPS"==r?i.a.createElement(Hn,null):"GROUP"==r?i.a.createElement(Fn,{groupId:n.groupId}):"DEBUG"==r?i.a.createElement(Kt,{backAction:n.backAction}):i.a.createElement(Zt,null)}var hr=function(e,t){var n=Object(o.b)(),r=(Object(l.useRef)(),Object(l.useRef)(),Object(o.c)((function(e){return e})));Object(l.useEffect)((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.awrap(ot(n));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),n(W({screen:"ERROR",error:e.t0}));case 9:case"end":return e.stop()}}),null,null,[[0,6]],Promise)}),[]);var s=H.a();if(Object(l.useEffect)((function(){if(s){var e,t,r,a,o=null==(e=s.notification)||null==(t=e.request)||null==(r=t.content)||null==(a=r.data)?void 0:a.groupId;null!=o&&n(W({screen:"GROUP",groupId:o}))}}),[s]),"SPLASH"==!r.main.appInitialized)return i.a.createElement(dr,{appInitializedCallback:function(){},refresh:2200});var c=Object(o.c)((function(e){return e.screen.screen})),u=null==c?void 0:c.screen,f=Object(o.c)((function(e){var t;return null==(t=e.screen)?void 0:t.modal})),m=null==f?void 0:f.modal;if("LOGIN"===u)return i.a.createElement(Zn,{dispatch:n});if("SIGNUP"===u)return i.a.createElement(mr,null);if(null==r.main.userInfo)return i.a.createElement(Zn,null);var p=null;return p="USER"===u?i.a.createElement(gr,null):"INITIAL_SELECT_SCHOOLS"==u?i.a.createElement(qn,null):"INITIAL_SELECT_SCHOOL_GROUPS"==u?i.a.createElement(Vn,null):"GROUPS"==u||null==u?i.a.createElement(Hn,null):"GROUP"==u?i.a.createElement(Fn,{groupId:c.groupId}):"FIND_GROUPS"==u?i.a.createElement(bn,null):"SCHOOL"==u?i.a.createElement(fr,{schoolId:c.schoolId}):"POST"==u?i.a.createElement(ur,{messageId:c.messageId}):"ORG"==u?i.a.createElement(cr,{orgId:c.orgId}):"MY_PROFILE"==u?i.a.createElement(ir,null):"MESSAGE"==u?i.a.createElement(Cn,{groupId:c.groupId,messageId:c.messageId}):"DEBUG"==u?i.a.createElement(Kt,{backAction:c.backAction}):"ERROR"==u?i.a.createElement(Zt,{error:c.error}):i.a.createElement(Zt,{error:{message:"No screen"}}),i.a.createElement($.a,{style:{flex:1}},p,i.a.createElement(er,{key:"messages"}),i.a.createElement(ar,{visible:"MY_PROFILE"===m}))},br=n(512);n(480),n(481);function yr(){return i.a.createElement(y.a,null,i.a.createElement(o.a,{store:Y},i.a.createElement(hr,null)))}br.a({handleNotification:function(e){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!1,shouldPlaySound:!1,shouldSetBadge:!1});case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},366:function(e,t,n){e.exports=n(483)},478:function(e,t,n){var r={"./af":164,"./af.js":164,"./ar":165,"./ar-dz":166,"./ar-dz.js":166,"./ar-kw":167,"./ar-kw.js":167,"./ar-ly":168,"./ar-ly.js":168,"./ar-ma":169,"./ar-ma.js":169,"./ar-sa":170,"./ar-sa.js":170,"./ar-tn":171,"./ar-tn.js":171,"./ar.js":165,"./az":172,"./az.js":172,"./be":173,"./be.js":173,"./bg":174,"./bg.js":174,"./bm":175,"./bm.js":175,"./bn":176,"./bn-bd":177,"./bn-bd.js":177,"./bn.js":176,"./bo":178,"./bo.js":178,"./br":179,"./br.js":179,"./bs":180,"./bs.js":180,"./ca":181,"./ca.js":181,"./cs":182,"./cs.js":182,"./cv":183,"./cv.js":183,"./cy":184,"./cy.js":184,"./da":185,"./da.js":185,"./de":186,"./de-at":187,"./de-at.js":187,"./de-ch":188,"./de-ch.js":188,"./de.js":186,"./dv":189,"./dv.js":189,"./el":190,"./el.js":190,"./en-au":191,"./en-au.js":191,"./en-ca":192,"./en-ca.js":192,"./en-gb":193,"./en-gb.js":193,"./en-ie":194,"./en-ie.js":194,"./en-il":195,"./en-il.js":195,"./en-in":196,"./en-in.js":196,"./en-nz":197,"./en-nz.js":197,"./en-sg":198,"./en-sg.js":198,"./eo":199,"./eo.js":199,"./es":200,"./es-do":201,"./es-do.js":201,"./es-mx":202,"./es-mx.js":202,"./es-us":203,"./es-us.js":203,"./es.js":200,"./et":204,"./et.js":204,"./eu":205,"./eu.js":205,"./fa":206,"./fa.js":206,"./fi":207,"./fi.js":207,"./fil":208,"./fil.js":208,"./fo":209,"./fo.js":209,"./fr":210,"./fr-ca":211,"./fr-ca.js":211,"./fr-ch":212,"./fr-ch.js":212,"./fr.js":210,"./fy":213,"./fy.js":213,"./ga":214,"./ga.js":214,"./gd":215,"./gd.js":215,"./gl":216,"./gl.js":216,"./gom-deva":217,"./gom-deva.js":217,"./gom-latn":218,"./gom-latn.js":218,"./gu":219,"./gu.js":219,"./he":220,"./he.js":220,"./hi":221,"./hi.js":221,"./hr":222,"./hr.js":222,"./hu":223,"./hu.js":223,"./hy-am":224,"./hy-am.js":224,"./id":225,"./id.js":225,"./is":226,"./is.js":226,"./it":227,"./it-ch":228,"./it-ch.js":228,"./it.js":227,"./ja":229,"./ja.js":229,"./jv":230,"./jv.js":230,"./ka":231,"./ka.js":231,"./kk":232,"./kk.js":232,"./km":233,"./km.js":233,"./kn":234,"./kn.js":234,"./ko":235,"./ko.js":235,"./ku":236,"./ku.js":236,"./ky":237,"./ky.js":237,"./lb":238,"./lb.js":238,"./lo":239,"./lo.js":239,"./lt":240,"./lt.js":240,"./lv":241,"./lv.js":241,"./me":242,"./me.js":242,"./mi":243,"./mi.js":243,"./mk":244,"./mk.js":244,"./ml":245,"./ml.js":245,"./mn":246,"./mn.js":246,"./mr":247,"./mr.js":247,"./ms":248,"./ms-my":249,"./ms-my.js":249,"./ms.js":248,"./mt":250,"./mt.js":250,"./my":251,"./my.js":251,"./nb":252,"./nb.js":252,"./ne":253,"./ne.js":253,"./nl":254,"./nl-be":255,"./nl-be.js":255,"./nl.js":254,"./nn":256,"./nn.js":256,"./oc-lnc":257,"./oc-lnc.js":257,"./pa-in":258,"./pa-in.js":258,"./pl":259,"./pl.js":259,"./pt":260,"./pt-br":261,"./pt-br.js":261,"./pt.js":260,"./ro":262,"./ro.js":262,"./ru":263,"./ru.js":263,"./sd":264,"./sd.js":264,"./se":265,"./se.js":265,"./si":266,"./si.js":266,"./sk":267,"./sk.js":267,"./sl":268,"./sl.js":268,"./sq":269,"./sq.js":269,"./sr":270,"./sr-cyrl":271,"./sr-cyrl.js":271,"./sr.js":270,"./ss":272,"./ss.js":272,"./sv":273,"./sv.js":273,"./sw":274,"./sw.js":274,"./ta":275,"./ta.js":275,"./te":276,"./te.js":276,"./tet":277,"./tet.js":277,"./tg":278,"./tg.js":278,"./th":279,"./th.js":279,"./tk":280,"./tk.js":280,"./tl-ph":281,"./tl-ph.js":281,"./tlh":282,"./tlh.js":282,"./tr":283,"./tr.js":283,"./tzl":284,"./tzl.js":284,"./tzm":285,"./tzm-latn":286,"./tzm-latn.js":286,"./tzm.js":285,"./ug-cn":287,"./ug-cn.js":287,"./uk":288,"./uk.js":288,"./ur":289,"./ur.js":289,"./uz":290,"./uz-latn":291,"./uz-latn.js":291,"./uz.js":290,"./vi":292,"./vi.js":292,"./x-pseudo":293,"./x-pseudo.js":293,"./yo":294,"./yo.js":294,"./zh-cn":295,"./zh-cn.js":295,"./zh-hk":296,"./zh-hk.js":296,"./zh-mo":297,"./zh-mo.js":297,"./zh-tw":298,"./zh-tw.js":298};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=478},479:function(e){e.exports=JSON.parse("{}")}},[[366,1,2]]]);
//# sourceMappingURL=app.021a6171.chunk.js.map